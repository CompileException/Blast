<html>
	<head>
		<title>NVIDIA(R) Blast(R) SDK 1.1 Source Reference: sdk/lowlevel/source/NvBlastActor.h Source File</title>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<LINK HREF="NVIDIA.css" REL="stylesheet" TYPE="text/css">
	</head>

	<body bgcolor="#FFFFFF">
		<div id="header">
			<hr class="first">
			<img alt="" src="blast_logo.png">
			<br>
			<center>
				<a class="qindex" href="main.html">Main Page</a> &nbsp; 
				<!-- <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; //-->
				<a class="qindex" href="annotated.html">Class List</a> &nbsp; 
				<a class="qindex" href="functions.html">Class Members</a> &nbsp;  
			</center>
			<hr class="second">
		</div>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>sdk/lowlevel/source/NvBlastActor.h</h1><a href="_nv_blast_actor_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// This code contains NVIDIA Confidential Information and is disclosed to you</span>
<a name="l00002"></a>00002 <span class="comment">// under a form of NVIDIA software license agreement provided separately to you.</span>
<a name="l00003"></a>00003 <span class="comment">//</span>
<a name="l00004"></a>00004 <span class="comment">// Notice</span>
<a name="l00005"></a>00005 <span class="comment">// NVIDIA Corporation and its licensors retain all intellectual property and</span>
<a name="l00006"></a>00006 <span class="comment">// proprietary rights in and to this software and related documentation and</span>
<a name="l00007"></a>00007 <span class="comment">// any modifications thereto. Any use, reproduction, disclosure, or</span>
<a name="l00008"></a>00008 <span class="comment">// distribution of this software and related documentation without an express</span>
<a name="l00009"></a>00009 <span class="comment">// license agreement from NVIDIA Corporation is strictly prohibited.</span>
<a name="l00010"></a>00010 <span class="comment">//</span>
<a name="l00011"></a>00011 <span class="comment">// ALL NVIDIA DESIGN SPECIFICATIONS, CODE ARE PROVIDED "AS IS.". NVIDIA MAKES</span>
<a name="l00012"></a>00012 <span class="comment">// NO WARRANTIES, EXPRESSED, IMPLIED, STATUTORY, OR OTHERWISE WITH RESPECT TO</span>
<a name="l00013"></a>00013 <span class="comment">// THE MATERIALS, AND EXPRESSLY DISCLAIMS ALL IMPLIED WARRANTIES OF NONINFRINGEMENT,</span>
<a name="l00014"></a>00014 <span class="comment">// MERCHANTABILITY, AND FITNESS FOR A PARTICULAR PURPOSE.</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// Information and code furnished is believed to be accurate and reliable.</span>
<a name="l00017"></a>00017 <span class="comment">// However, NVIDIA Corporation assumes no responsibility for the consequences of use of such</span>
<a name="l00018"></a>00018 <span class="comment">// information or for any infringement of patents or other rights of third parties that may</span>
<a name="l00019"></a>00019 <span class="comment">// result from its use. No license is granted by implication or otherwise under any patent</span>
<a name="l00020"></a>00020 <span class="comment">// or patent rights of NVIDIA Corporation. Details are subject to change without notice.</span>
<a name="l00021"></a>00021 <span class="comment">// This code supersedes and replaces all information previously supplied.</span>
<a name="l00022"></a>00022 <span class="comment">// NVIDIA Corporation products are not authorized for use as critical</span>
<a name="l00023"></a>00023 <span class="comment">// components in life support devices or systems without express written approval of</span>
<a name="l00024"></a>00024 <span class="comment">// NVIDIA Corporation.</span>
<a name="l00025"></a>00025 <span class="comment">//</span>
<a name="l00026"></a>00026 <span class="comment">// Copyright (c) 2016-2017 NVIDIA Corporation. All rights reserved.</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="preprocessor">#ifndef NVBLASTACTOR_H</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span><span class="preprocessor">#define NVBLASTACTOR_H</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span>
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="preprocessor">#include "<a class="code" href="_nv_blast_asset_8h.html">NvBlastAsset.h</a>"</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include "<a class="code" href="_nv_blast_d_link_8h.html">NvBlastDLink.h</a>"</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include "<a class="code" href="_nv_blast_iterator_base_8h.html">NvBlastIteratorBase.h</a>"</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include "<a class="code" href="_nv_blast_support_graph_8h.html">NvBlastSupportGraph.h</a>"</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include "<a class="code" href="_nv_blast_family_graph_8h.html">NvBlastFamilyGraph.h</a>"</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include "<a class="code" href="_nv_blast_preprocessor_internal_8h.html">NvBlastPreprocessorInternal.h</a>"</span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="preprocessor">#include &lt;cstring&gt;</span>
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="keyword">namespace </span>Nv
<a name="l00044"></a>00044 {
<a name="l00045"></a>00045 <span class="keyword">namespace </span>Blast
<a name="l00046"></a>00046 {
<a name="l00047"></a>00047 
<a name="l00048"></a>00048 <span class="comment">// Forward declarations</span>
<a name="l00049"></a>00049 <span class="keyword">class </span>FamilyGraph;
<a name="l00050"></a>00050 <span class="keyword">struct </span>FamilyHeader;
<a name="l00051"></a>00051 
<a name="l00058"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html">00058</a> <span class="keyword">class </span><a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a> : <span class="keyword">public</span> <a class="code" href="struct_nv_blast_actor.html">NvBlastActor</a>
<a name="l00059"></a>00059 {
<a name="l00060"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#e80652887c7949e9bf5692fa06a1efa6">00060</a>     <span class="keyword">friend</span> <span class="keyword">struct </span><a class="code" href="struct_nv_1_1_blast_1_1_family_header.html">FamilyHeader</a>;
<a name="l00061"></a>00061 
<a name="l00062"></a>00062     <span class="keyword">friend</span> <span class="keywordtype">void</span> updateVisibleChunksFromSupportChunk&lt;&gt;(<a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>*, <a class="code" href="struct_nv_1_1_blast_1_1_index_d_link.html">IndexDLink&lt;uint32_t&gt;</a>*, uint32_t*, uint32_t, uint32_t, <span class="keyword">const</span> <a class="code" href="struct_nv_blast_chunk.html">NvBlastChunk</a>*, uint32_t);
<a name="l00063"></a>00063 
<a name="l00064"></a>00064 <span class="keyword">public</span>:
<a name="l00065"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#49fd726e45168bd756e564cfaac6e356">00065</a>     <a class="code" href="class_nv_1_1_blast_1_1_actor.html#49fd726e45168bd756e564cfaac6e356">Actor</a>() : m_familyOffset(0), m_firstVisibleChunkIndex(UINT32_MAX), m_visibleChunkCount(0), m_firstGraphNodeIndex(UINT32_MAX), m_graphNodeCount(0), m_leafChunkCount(0) {}
<a name="l00066"></a>00066 
<a name="l00068"></a>00068 
<a name="l00074"></a>00074     <a class="code" href="struct_nv_1_1_blast_1_1_family_header.html">FamilyHeader</a>*       <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>() <span class="keyword">const</span>;
<a name="l00075"></a>00075 
<a name="l00081"></a>00081     <span class="keyword">const</span> <a class="code" href="class_nv_1_1_blast_1_1_asset.html">Asset</a>*        <a class="code" href="class_nv_1_1_blast_1_1_actor.html#01efe9a7ce4758228ff7fbfc18439e89">getAsset</a>() <span class="keyword">const</span>;
<a name="l00082"></a>00082 
<a name="l00090"></a>00090     <span class="keywordtype">bool</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#3d8f539000a51c21e4fd610b504a3bf6">isActive</a>() <span class="keyword">const</span>;
<a name="l00091"></a>00091 
<a name="l00097"></a>00097     <span class="keywordtype">bool</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#c4d1080a2df5ddafe54f1aa9afef6e40">isSubSupportChunk</a>() <span class="keyword">const</span>;
<a name="l00098"></a>00098 
<a name="l00105"></a>00105     <span class="keywordtype">bool</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#25972224f087f241f35ffeef6fca0681">isSingleSupportChunk</a>() <span class="keyword">const</span>;
<a name="l00106"></a>00106 
<a name="l00112"></a>00112     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#b329eb40c508c1a1709257c5d0d89c80">getIndex</a>() <span class="keyword">const</span>;
<a name="l00113"></a>00113 
<a name="l00120"></a>00120     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#b0603f4160ed95129a3236cf946a0857">getVisibleChunkCount</a>() <span class="keyword">const</span>;
<a name="l00121"></a>00121 
<a name="l00127"></a>00127     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#b6aee8dec9462c3ca4e6ab7c88d50527">getFirstVisibleChunkIndex</a>() <span class="keyword">const</span>;
<a name="l00128"></a>00128 
<a name="l00135"></a>00135     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#6f9d68ce898e4107fd936d7c1e9dd921">getGraphNodeCount</a>() <span class="keyword">const</span>;
<a name="l00136"></a>00136 
<a name="l00142"></a>00142     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#cffc5390424f427cedbdfc5016aa7c95">getLeafChunkCount</a>() <span class="keyword">const</span>;
<a name="l00143"></a>00143 
<a name="l00149"></a>00149     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#dfb84f684de7a4ea8fe3d1f5e64c3de5">getFirstGraphNodeIndex</a>() <span class="keyword">const</span>;
<a name="l00150"></a>00150 
<a name="l00156"></a>00156     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#002024d15f89fb12d7fdf87ca9cba554">getFirstSubsupportChunkIndex</a>() <span class="keyword">const</span>;
<a name="l00157"></a>00157 
<a name="l00163"></a>00163     <span class="keyword">const</span> <a class="code" href="struct_nv_1_1_blast_1_1_support_graph.html">SupportGraph</a>* <a class="code" href="class_nv_1_1_blast_1_1_actor.html#c99a48ba8fc03c3e44d4cdb13612bc54">getGraph</a>() <span class="keyword">const</span>;
<a name="l00164"></a>00164 
<a name="l00171"></a>00171     <a class="code" href="class_nv_1_1_blast_1_1_family_graph.html">FamilyGraph</a>*        <a class="code" href="class_nv_1_1_blast_1_1_actor.html#429db395668307ba22fde4c5e2682ec8">getFamilyGraph</a>() <span class="keyword">const</span>;
<a name="l00172"></a>00172 
<a name="l00178"></a>00178     <a class="code" href="struct_nv_blast_chunk.html">NvBlastChunk</a>*       <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8326bdc2871657619eeafc807d1457">getChunks</a>() <span class="keyword">const</span>;
<a name="l00179"></a>00179 
<a name="l00185"></a>00185     <a class="code" href="struct_nv_blast_bond.html">NvBlastBond</a>*        <a class="code" href="class_nv_1_1_blast_1_1_actor.html#9ddc5add20e934c2ec460b88ecb6556a">getBonds</a>() <span class="keyword">const</span>;
<a name="l00186"></a>00186 
<a name="l00194"></a>00194     <span class="keywordtype">float</span>*              <a class="code" href="class_nv_1_1_blast_1_1_actor.html#7945bc8bf80130d18f8cc4ffdd70b6c3">getLowerSupportChunkHealths</a>() <span class="keyword">const</span>;
<a name="l00195"></a>00195 
<a name="l00201"></a>00201     <span class="keywordtype">float</span>*              <a class="code" href="class_nv_1_1_blast_1_1_actor.html#765a28ec7411bba2569bfcb59e12924e">getSubsupportChunkHealths</a>() <span class="keyword">const</span>;
<a name="l00202"></a>00202 
<a name="l00208"></a>00208     <span class="keywordtype">float</span>*              <a class="code" href="class_nv_1_1_blast_1_1_actor.html#fbfed518265059f7d0ea6601636c6ed5">getBondHealths</a>() <span class="keyword">const</span>;
<a name="l00209"></a>00209 
<a name="l00215"></a>00215     <span class="keyword">const</span> uint32_t*     <a class="code" href="class_nv_1_1_blast_1_1_actor.html#d5767f4ad545fe41f5287fc5b906957d">getGraphNodeIndexLinks</a>() <span class="keyword">const</span>;
<a name="l00216"></a>00216 
<a name="l00217"></a>00217 
<a name="l00219"></a>00219 
<a name="l00233"></a><a class="code" href="class_nv_1_1_blast_1_1_actor_1_1_visible_chunk_it.html">00233</a>     <span class="keyword">class </span><a class="code" href="class_nv_1_1_blast_1_1_actor_1_1_visible_chunk_it.html">VisibleChunkIt</a> : <span class="keyword">public</span> <a class="code" href="class_nv_1_1_blast_1_1_d_list_it.html">DListIt</a>&lt;uint32_t&gt;
<a name="l00234"></a>00234     {
<a name="l00235"></a>00235     <span class="keyword">public</span>:
<a name="l00237"></a>00237         <a class="code" href="class_nv_1_1_blast_1_1_actor_1_1_visible_chunk_it.html#e438f37b95f269957478625a5974906c">VisibleChunkIt</a>(<span class="keyword">const</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>&amp; actor);
<a name="l00238"></a>00238     };
<a name="l00239"></a>00239 
<a name="l00253"></a><a class="code" href="class_nv_1_1_blast_1_1_actor_1_1_graph_node_it.html">00253</a>     <span class="keyword">class </span><a class="code" href="class_nv_1_1_blast_1_1_actor_1_1_graph_node_it.html">GraphNodeIt</a> : <span class="keyword">public</span> <a class="code" href="class_nv_1_1_blast_1_1_l_list_it.html">LListIt</a>&lt;uint32_t&gt;
<a name="l00254"></a>00254     {
<a name="l00255"></a>00255     <span class="keyword">public</span>:
<a name="l00257"></a>00257         <a class="code" href="class_nv_1_1_blast_1_1_actor_1_1_graph_node_it.html#29b32ba21ecef350ffcbc7864348640c">GraphNodeIt</a>(<span class="keyword">const</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>&amp; actor);
<a name="l00258"></a>00258     };
<a name="l00259"></a>00259 
<a name="l00260"></a>00260 
<a name="l00262"></a>00262 
<a name="l00275"></a>00275     <span class="keyword">static</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>*       <a class="code" href="class_nv_1_1_blast_1_1_actor.html#307ec3c8c73cb706ec153bd63baee7c4">create</a>(<a class="code" href="struct_nv_blast_family.html">NvBlastFamily</a>* family, <span class="keyword">const</span> <a class="code" href="struct_nv_blast_actor_desc.html">NvBlastActorDesc</a>* desc, <span class="keywordtype">void</span>* scratch, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn);
<a name="l00276"></a>00276 
<a name="l00285"></a>00285     <span class="keyword">static</span> <span class="keywordtype">size_t</span>       <a class="code" href="class_nv_1_1_blast_1_1_actor.html#3082322754cba457f678e567b288fe02">createRequiredScratch</a>(<span class="keyword">const</span> <a class="code" href="struct_nv_blast_family.html">NvBlastFamily</a>* family);
<a name="l00286"></a>00286 
<a name="l00298"></a>00298     <span class="keyword">static</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>*       <a class="code" href="class_nv_1_1_blast_1_1_actor.html#cc84f6ae1ee76cf23b15898d2ba23721">deserialize</a>(<a class="code" href="struct_nv_blast_family.html">NvBlastFamily</a>* family, <span class="keyword">const</span> <span class="keywordtype">void</span>* buffer, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn);
<a name="l00299"></a>00299 
<a name="l00309"></a>00309     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#c760ce0295329d39567e57a10fc6a1fe">serialize</a>(<span class="keywordtype">void</span>* buffer, uint32_t bufferSize, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn) <span class="keyword">const</span>;
<a name="l00310"></a>00310 
<a name="l00318"></a>00318     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#969be9f4dd3f7e96cc710f5116511a36">serializationRequiredStorage</a>(<a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn) <span class="keyword">const</span>;
<a name="l00319"></a>00319 
<a name="l00326"></a>00326     <span class="keywordtype">bool</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#d8552a04fa6cdb1f3a01d11d18209e5a">release</a>();
<a name="l00327"></a>00327 
<a name="l00328"></a>00328 
<a name="l00330"></a>00330 
<a name="l00334"></a>00334     <span class="keywordtype">void</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ad84134173598b48fa4620fc46e90eeb">generateFracture</a>(<a class="code" href="struct_nv_blast_fracture_buffers.html">NvBlastFractureBuffers</a>* commandBuffers, <span class="keyword">const</span> <a class="code" href="struct_nv_blast_damage_program.html">NvBlastDamageProgram</a>&amp; program, <span class="keyword">const</span> <a class="code" href="struct_nv_blast_program_params.html">NvBlastProgramParams</a>* programParams, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn, <a class="code" href="struct_nv_blast_timers.html">NvBlastTimers</a>* timers) <span class="keyword">const</span>;
<a name="l00335"></a>00335 
<a name="l00339"></a>00339     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#7ae51f1cdc7a63ab67823d7cd08552d2">damageBond</a>(uint32_t nodeIndex0, uint32_t nodeIndex1, <span class="keywordtype">float</span> healthDamage);
<a name="l00340"></a>00340 
<a name="l00344"></a>00344     <span class="keywordtype">void</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#7ae51f1cdc7a63ab67823d7cd08552d2">damageBond</a>(uint32_t nodeIndex0, uint32_t nodeIndex1, uint32_t bondIndex, <span class="keywordtype">float</span> healthDamage);
<a name="l00345"></a>00345 
<a name="l00349"></a>00349     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#7ae51f1cdc7a63ab67823d7cd08552d2">damageBond</a>(<span class="keyword">const</span> <a class="code" href="struct_nv_blast_bond_fracture_data.html">NvBlastBondFractureData</a>&amp; cmd);
<a name="l00350"></a>00350 
<a name="l00354"></a>00354     <span class="keywordtype">void</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#cc3bf3a166faa14d058d8ef505228221">applyFracture</a>(<a class="code" href="struct_nv_blast_fracture_buffers.html">NvBlastFractureBuffers</a>* eventBuffers, <span class="keyword">const</span> <a class="code" href="struct_nv_blast_fracture_buffers.html">NvBlastFractureBuffers</a>* commands, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn, <a class="code" href="struct_nv_blast_timers.html">NvBlastTimers</a>* timers);
<a name="l00355"></a>00355 
<a name="l00361"></a>00361     <span class="keywordtype">size_t</span>              <a class="code" href="class_nv_1_1_blast_1_1_actor.html#6b9c6155e42a10f77ea5addc2ccbdcc4">splitRequiredScratch</a>() <span class="keyword">const</span>;
<a name="l00362"></a>00362 
<a name="l00366"></a>00366     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ecab306397e048f4f46440d4879ba879">split</a>(<a class="code" href="struct_nv_blast_actor_split_event.html">NvBlastActorSplitEvent</a>* result, uint32_t newActorsMaxCount, <span class="keywordtype">void</span>* scratch, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn, <a class="code" href="struct_nv_blast_timers.html">NvBlastTimers</a>* timers);
<a name="l00367"></a>00367 
<a name="l00377"></a>00377     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#372818aee680b0cefdcd27010234826e">findIslands</a>(<span class="keywordtype">void</span>* scratch);
<a name="l00378"></a>00378 
<a name="l00395"></a>00395     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#4f9e6d8c9f2b31644ae0a4bb03f88309">partition</a>(<a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>** newActors, uint32_t newActorsSize, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn);
<a name="l00396"></a>00396 
<a name="l00400"></a>00400     <span class="keywordtype">void</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#d4a77624d52d337f1b7158f0be6c233f">updateVisibleChunksFromGraphNodes</a>();
<a name="l00401"></a>00401 
<a name="l00416"></a>00416     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#e75f198c241b12842e68e10e34e8ac39">partitionSingleLowerSupportChunk</a>(<a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>** newActors, uint32_t newActorsSize, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn);
<a name="l00417"></a>00417 
<a name="l00432"></a>00432     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#eac2e1cee03f101305013770cf0dff46">partitionMultipleGraphNodes</a>(<a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>** newActors, uint32_t newActorsSize, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn);
<a name="l00433"></a>00433 
<a name="l00437"></a>00437     <span class="keywordtype">bool</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#c3ffff9a1718f2cb453725cda4259a8d">isBoundToWorld</a>() <span class="keyword">const</span>;
<a name="l00438"></a>00438 
<a name="l00442"></a>00442     <span class="keywordtype">bool</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#57d6da1ace2c16bbd3d85a09a1f05ed6">isSplitRequired</a>() <span class="keyword">const</span>;
<a name="l00443"></a>00443 
<a name="l00444"></a>00444 <span class="keyword">private</span>:
<a name="l00445"></a>00445 
<a name="l00447"></a>00447 
<a name="l00455"></a>00455     uint32_t    m_familyOffset;
<a name="l00456"></a>00456 
<a name="l00461"></a>00461     uint32_t    m_firstVisibleChunkIndex;
<a name="l00462"></a>00462 
<a name="l00466"></a>00466     uint32_t    m_visibleChunkCount;
<a name="l00467"></a>00467 
<a name="l00472"></a>00472     uint32_t    m_firstGraphNodeIndex;
<a name="l00473"></a>00473 
<a name="l00477"></a>00477     uint32_t    m_graphNodeCount;
<a name="l00478"></a>00478 
<a name="l00482"></a>00482     uint32_t    m_leafChunkCount;
<a name="l00483"></a>00483 };
<a name="l00484"></a>00484 
<a name="l00485"></a>00485 } <span class="comment">// namespace Blast</span>
<a name="l00486"></a>00486 } <span class="comment">// namespace Nv</span>
<a name="l00487"></a>00487 
<a name="l00488"></a>00488 
<a name="l00489"></a>00489 <span class="preprocessor">#include "<a class="code" href="_nv_blast_family_8h.html">NvBlastFamily.h</a>"</span>
<a name="l00490"></a>00490 
<a name="l00491"></a>00491 
<a name="l00492"></a>00492 <span class="keyword">namespace </span>Nv
<a name="l00493"></a>00493 {
<a name="l00494"></a>00494 <span class="keyword">namespace </span>Blast
<a name="l00495"></a>00495 {
<a name="l00496"></a>00496 
<a name="l00498"></a>00498 
<a name="l00499"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">00499</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <a class="code" href="struct_nv_1_1_blast_1_1_family_header.html">FamilyHeader</a>* <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">Actor::getFamilyHeader</a>()<span class="keyword"> const</span>
<a name="l00500"></a>00500 <span class="keyword"></span>{
<a name="l00501"></a>00501     <a class="code" href="_nv_blast_assert_8h.html#2b179fca67cdb57b12b65e33fe3f6c93">NVBLAST_ASSERT</a>(<a class="code" href="class_nv_1_1_blast_1_1_actor.html#3d8f539000a51c21e4fd610b504a3bf6">isActive</a>());
<a name="l00502"></a>00502     <span class="keywordflow">return</span> (<a class="code" href="struct_nv_1_1_blast_1_1_family_header.html">FamilyHeader</a>*)((uintptr_t)<span class="keyword">this</span> - (uintptr_t)m_familyOffset);
<a name="l00503"></a>00503 }
<a name="l00504"></a>00504 
<a name="l00505"></a>00505 
<a name="l00506"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#01efe9a7ce4758228ff7fbfc18439e89">00506</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keyword">const</span> <a class="code" href="class_nv_1_1_blast_1_1_asset.html">Asset</a>* <a class="code" href="class_nv_1_1_blast_1_1_actor.html#01efe9a7ce4758228ff7fbfc18439e89">Actor::getAsset</a>()<span class="keyword"> const</span>
<a name="l00507"></a>00507 <span class="keyword"></span>{
<a name="l00508"></a>00508     <span class="keywordflow">return</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>()-&gt;<a class="code" href="struct_nv_1_1_blast_1_1_family_header.html#b1500a7965fb35635af84a091cf399e1">m_asset</a>;
<a name="l00509"></a>00509 }
<a name="l00510"></a>00510 
<a name="l00511"></a>00511 
<a name="l00512"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#3d8f539000a51c21e4fd610b504a3bf6">00512</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#3d8f539000a51c21e4fd610b504a3bf6">Actor::isActive</a>()<span class="keyword"> const</span>
<a name="l00513"></a>00513 <span class="keyword"></span>{
<a name="l00514"></a>00514     <span class="keywordflow">return</span> m_familyOffset != 0;
<a name="l00515"></a>00515 }
<a name="l00516"></a>00516 
<a name="l00517"></a>00517 
<a name="l00518"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#c4d1080a2df5ddafe54f1aa9afef6e40">00518</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#c4d1080a2df5ddafe54f1aa9afef6e40">Actor::isSubSupportChunk</a>()<span class="keyword"> const</span>
<a name="l00519"></a>00519 <span class="keyword"></span>{
<a name="l00520"></a>00520     <span class="keywordflow">return</span> m_graphNodeCount == 0;
<a name="l00521"></a>00521 }
<a name="l00522"></a>00522 
<a name="l00523"></a>00523 
<a name="l00524"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#25972224f087f241f35ffeef6fca0681">00524</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#25972224f087f241f35ffeef6fca0681">Actor::isSingleSupportChunk</a>()<span class="keyword"> const</span>
<a name="l00525"></a>00525 <span class="keyword"></span>{
<a name="l00526"></a>00526     <span class="keywordflow">return</span> m_graphNodeCount == 1;
<a name="l00527"></a>00527 }
<a name="l00528"></a>00528 
<a name="l00529"></a>00529 
<a name="l00530"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#b329eb40c508c1a1709257c5d0d89c80">00530</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> uint32_t <a class="code" href="class_nv_1_1_blast_1_1_actor.html#b329eb40c508c1a1709257c5d0d89c80">Actor::getIndex</a>()<span class="keyword"> const</span>
<a name="l00531"></a>00531 <span class="keyword"></span>{
<a name="l00532"></a>00532     <a class="code" href="_nv_blast_assert_8h.html#2b179fca67cdb57b12b65e33fe3f6c93">NVBLAST_ASSERT</a>(<a class="code" href="class_nv_1_1_blast_1_1_actor.html#3d8f539000a51c21e4fd610b504a3bf6">isActive</a>());
<a name="l00533"></a>00533     <span class="keyword">const</span> <a class="code" href="struct_nv_1_1_blast_1_1_family_header.html">FamilyHeader</a>* header = <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>();
<a name="l00534"></a>00534     <a class="code" href="_nv_blast_assert_8h.html#2b179fca67cdb57b12b65e33fe3f6c93">NVBLAST_ASSERT</a>(header != <span class="keyword">nullptr</span>);
<a name="l00535"></a>00535     <span class="keyword">const</span> <span class="keywordtype">size_t</span> index = <span class="keyword">this</span> - header-&gt;getActors();
<a name="l00536"></a>00536     <a class="code" href="_nv_blast_assert_8h.html#2b179fca67cdb57b12b65e33fe3f6c93">NVBLAST_ASSERT</a>(index &lt;= UINT32_MAX);
<a name="l00537"></a>00537     <span class="keywordflow">return</span> (uint32_t)index;
<a name="l00538"></a>00538 }
<a name="l00539"></a>00539 
<a name="l00540"></a>00540 
<a name="l00541"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#b0603f4160ed95129a3236cf946a0857">00541</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> uint32_t <a class="code" href="class_nv_1_1_blast_1_1_actor.html#b0603f4160ed95129a3236cf946a0857">Actor::getVisibleChunkCount</a>()<span class="keyword"> const</span>
<a name="l00542"></a>00542 <span class="keyword"></span>{
<a name="l00543"></a>00543     <span class="keywordflow">return</span> m_visibleChunkCount;
<a name="l00544"></a>00544 }
<a name="l00545"></a>00545 
<a name="l00546"></a>00546 
<a name="l00547"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#b6aee8dec9462c3ca4e6ab7c88d50527">00547</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> uint32_t <a class="code" href="class_nv_1_1_blast_1_1_actor.html#b6aee8dec9462c3ca4e6ab7c88d50527">Actor::getFirstVisibleChunkIndex</a>()<span class="keyword"> const</span>
<a name="l00548"></a>00548 <span class="keyword"></span>{
<a name="l00549"></a>00549     <span class="keywordflow">return</span> m_firstVisibleChunkIndex;
<a name="l00550"></a>00550 }
<a name="l00551"></a>00551 
<a name="l00552"></a>00552 
<a name="l00553"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#6f9d68ce898e4107fd936d7c1e9dd921">00553</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> uint32_t <a class="code" href="class_nv_1_1_blast_1_1_actor.html#6f9d68ce898e4107fd936d7c1e9dd921">Actor::getGraphNodeCount</a>()<span class="keyword"> const</span>
<a name="l00554"></a>00554 <span class="keyword"></span>{
<a name="l00555"></a>00555     <span class="keywordflow">return</span> m_graphNodeCount;
<a name="l00556"></a>00556 }
<a name="l00557"></a>00557 
<a name="l00558"></a>00558 
<a name="l00559"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#cffc5390424f427cedbdfc5016aa7c95">00559</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> uint32_t <a class="code" href="class_nv_1_1_blast_1_1_actor.html#cffc5390424f427cedbdfc5016aa7c95">Actor::getLeafChunkCount</a>()<span class="keyword"> const</span>
<a name="l00560"></a>00560 <span class="keyword"></span>{
<a name="l00561"></a>00561     <span class="keywordflow">return</span> m_leafChunkCount;
<a name="l00562"></a>00562 }
<a name="l00563"></a>00563 
<a name="l00564"></a>00564 
<a name="l00565"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#dfb84f684de7a4ea8fe3d1f5e64c3de5">00565</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> uint32_t <a class="code" href="class_nv_1_1_blast_1_1_actor.html#dfb84f684de7a4ea8fe3d1f5e64c3de5">Actor::getFirstGraphNodeIndex</a>()<span class="keyword"> const</span>
<a name="l00566"></a>00566 <span class="keyword"></span>{
<a name="l00567"></a>00567     <span class="keywordflow">return</span> m_firstGraphNodeIndex;
<a name="l00568"></a>00568 }
<a name="l00569"></a>00569 
<a name="l00570"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#002024d15f89fb12d7fdf87ca9cba554">00570</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> uint32_t <a class="code" href="class_nv_1_1_blast_1_1_actor.html#002024d15f89fb12d7fdf87ca9cba554">Actor::getFirstSubsupportChunkIndex</a>()<span class="keyword"> const</span>
<a name="l00571"></a>00571 <span class="keyword"></span>{
<a name="l00572"></a>00572     <span class="keywordflow">return</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#01efe9a7ce4758228ff7fbfc18439e89">getAsset</a>()-&gt;<a class="code" href="class_nv_1_1_blast_1_1_asset.html#6cfa7f72e5f815e519550dd46dc087a9">m_firstSubsupportChunkIndex</a>;
<a name="l00573"></a>00573 }
<a name="l00574"></a>00574 
<a name="l00575"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#c99a48ba8fc03c3e44d4cdb13612bc54">00575</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keyword">const</span> <a class="code" href="struct_nv_1_1_blast_1_1_support_graph.html">SupportGraph</a>* <a class="code" href="class_nv_1_1_blast_1_1_actor.html#c99a48ba8fc03c3e44d4cdb13612bc54">Actor::getGraph</a>()<span class="keyword"> const</span>
<a name="l00576"></a>00576 <span class="keyword"></span>{
<a name="l00577"></a>00577     <span class="keywordflow">return</span> &amp;<a class="code" href="class_nv_1_1_blast_1_1_actor.html#01efe9a7ce4758228ff7fbfc18439e89">getAsset</a>()-&gt;<a class="code" href="class_nv_1_1_blast_1_1_asset.html#d07d72453b9db6a1387f7fbd934eb2fd">m_graph</a>;
<a name="l00578"></a>00578 }
<a name="l00579"></a>00579 
<a name="l00580"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#429db395668307ba22fde4c5e2682ec8">00580</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <a class="code" href="class_nv_1_1_blast_1_1_family_graph.html">FamilyGraph</a>* <a class="code" href="class_nv_1_1_blast_1_1_actor.html#429db395668307ba22fde4c5e2682ec8">Actor::getFamilyGraph</a>()<span class="keyword"> const</span>
<a name="l00581"></a>00581 <span class="keyword"></span>{
<a name="l00582"></a>00582     <span class="keywordflow">return</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>()-&gt;getFamilyGraph();
<a name="l00583"></a>00583 }
<a name="l00584"></a>00584 
<a name="l00585"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8326bdc2871657619eeafc807d1457">00585</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <a class="code" href="struct_nv_blast_chunk.html">NvBlastChunk</a>* <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8326bdc2871657619eeafc807d1457">Actor::getChunks</a>()<span class="keyword"> const</span>
<a name="l00586"></a>00586 <span class="keyword"></span>{
<a name="l00587"></a>00587     <span class="keywordflow">return</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#01efe9a7ce4758228ff7fbfc18439e89">getAsset</a>()-&gt;getChunks();
<a name="l00588"></a>00588 }
<a name="l00589"></a>00589 
<a name="l00590"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#9ddc5add20e934c2ec460b88ecb6556a">00590</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <a class="code" href="struct_nv_blast_bond.html">NvBlastBond</a>* <a class="code" href="class_nv_1_1_blast_1_1_actor.html#9ddc5add20e934c2ec460b88ecb6556a">Actor::getBonds</a>()<span class="keyword"> const</span>
<a name="l00591"></a>00591 <span class="keyword"></span>{
<a name="l00592"></a>00592     <span class="keywordflow">return</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#01efe9a7ce4758228ff7fbfc18439e89">getAsset</a>()-&gt;getBonds();
<a name="l00593"></a>00593 }
<a name="l00594"></a>00594 
<a name="l00595"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#7945bc8bf80130d18f8cc4ffdd70b6c3">00595</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keywordtype">float</span>* <a class="code" href="class_nv_1_1_blast_1_1_actor.html#7945bc8bf80130d18f8cc4ffdd70b6c3">Actor::getLowerSupportChunkHealths</a>()<span class="keyword"> const</span>
<a name="l00596"></a>00596 <span class="keyword"></span>{
<a name="l00597"></a>00597     <span class="keywordflow">return</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>()-&gt;getLowerSupportChunkHealths();
<a name="l00598"></a>00598 }
<a name="l00599"></a>00599 
<a name="l00600"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#765a28ec7411bba2569bfcb59e12924e">00600</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keywordtype">float</span>*    <a class="code" href="class_nv_1_1_blast_1_1_actor.html#765a28ec7411bba2569bfcb59e12924e">Actor::getSubsupportChunkHealths</a>()<span class="keyword"> const</span>
<a name="l00601"></a>00601 <span class="keyword"></span>{
<a name="l00602"></a>00602     <span class="keywordflow">return</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>()-&gt;<a class="code" href="struct_nv_1_1_blast_1_1_family_header.html#ddfc84d59d9a0b65f3f6b89d895b2041">getSubsupportChunkHealths</a>();
<a name="l00603"></a>00603 }
<a name="l00604"></a>00604 
<a name="l00605"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#fbfed518265059f7d0ea6601636c6ed5">00605</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keywordtype">float</span>* <a class="code" href="class_nv_1_1_blast_1_1_actor.html#fbfed518265059f7d0ea6601636c6ed5">Actor::getBondHealths</a>()<span class="keyword"> const</span>
<a name="l00606"></a>00606 <span class="keyword"></span>{
<a name="l00607"></a>00607     <span class="keywordflow">return</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>()-&gt;getBondHealths();
<a name="l00608"></a>00608 }
<a name="l00609"></a>00609 
<a name="l00610"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#d5767f4ad545fe41f5287fc5b906957d">00610</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keyword">const</span> uint32_t* <a class="code" href="class_nv_1_1_blast_1_1_actor.html#d5767f4ad545fe41f5287fc5b906957d">Actor::getGraphNodeIndexLinks</a>()<span class="keyword"> const</span>
<a name="l00611"></a>00611 <span class="keyword"></span>{
<a name="l00612"></a>00612     <span class="keywordflow">return</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>()-&gt;getGraphNodeIndexLinks();
<a name="l00613"></a>00613 }
<a name="l00614"></a>00614 
<a name="l00615"></a>00615 
<a name="l00616"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#d8552a04fa6cdb1f3a01d11d18209e5a">00616</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#d8552a04fa6cdb1f3a01d11d18209e5a">Actor::release</a>()
<a name="l00617"></a>00617 {
<a name="l00618"></a>00618     <span class="comment">// Do nothing if this actor is not currently active.</span>
<a name="l00619"></a>00619     <span class="keywordflow">if</span> (!<a class="code" href="class_nv_1_1_blast_1_1_actor.html#3d8f539000a51c21e4fd610b504a3bf6">isActive</a>())
<a name="l00620"></a>00620     {
<a name="l00621"></a>00621         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00622"></a>00622     }
<a name="l00623"></a>00623 
<a name="l00624"></a>00624     <a class="code" href="struct_nv_1_1_blast_1_1_family_header.html">FamilyHeader</a>* header = <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>();
<a name="l00625"></a>00625 
<a name="l00626"></a>00626     <span class="comment">// Clear the graph node list</span>
<a name="l00627"></a>00627     uint32_t* graphNodeIndexLinks = <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>()-&gt;getGraphNodeIndexLinks();
<a name="l00628"></a>00628     <span class="keywordflow">while</span> (!<a class="code" href="namespace_nv_1_1_blast.html#a5e952ab38e3501215eee523cb0a0d20">isInvalidIndex</a>(m_firstGraphNodeIndex))
<a name="l00629"></a>00629     {
<a name="l00630"></a>00630         <span class="keyword">const</span> uint32_t graphNodeIndex = m_firstGraphNodeIndex;
<a name="l00631"></a>00631         m_firstGraphNodeIndex = graphNodeIndexLinks[m_firstGraphNodeIndex];
<a name="l00632"></a>00632         graphNodeIndexLinks[graphNodeIndex] = invalidIndex&lt;uint32_t&gt;();
<a name="l00633"></a>00633         --m_graphNodeCount;
<a name="l00634"></a>00634     }
<a name="l00635"></a>00635     <a class="code" href="_nv_blast_assert_8h.html#2b179fca67cdb57b12b65e33fe3f6c93">NVBLAST_ASSERT</a>(m_graphNodeCount == 0);
<a name="l00636"></a>00636 
<a name="l00637"></a>00637     <span class="keyword">const</span> <a class="code" href="class_nv_1_1_blast_1_1_asset.html">Asset</a>* asset = <a class="code" href="class_nv_1_1_blast_1_1_actor.html#01efe9a7ce4758228ff7fbfc18439e89">getAsset</a>();
<a name="l00638"></a>00638 
<a name="l00639"></a>00639     <span class="comment">// Clear the visible chunk list</span>
<a name="l00640"></a>00640     <a class="code" href="struct_nv_1_1_blast_1_1_index_d_link.html">IndexDLink&lt;uint32_t&gt;</a>* visibleChunkIndexLinks = header-&gt;getVisibleChunkIndexLinks();
<a name="l00641"></a>00641     uint32_t* chunkActorIndices = header-&gt;getChunkActorIndices();
<a name="l00642"></a>00642     <span class="keywordflow">while</span> (!<a class="code" href="namespace_nv_1_1_blast.html#a5e952ab38e3501215eee523cb0a0d20">isInvalidIndex</a>(m_firstVisibleChunkIndex))
<a name="l00643"></a>00643     {
<a name="l00644"></a>00644         <span class="comment">// Descendants of the visible actor may be accessed again if the actor is deserialized.  Clear subtree.</span>
<a name="l00645"></a>00645         <span class="keywordflow">for</span> (<a class="code" href="class_nv_1_1_blast_1_1_asset_1_1_depth_first_it.html">Asset::DepthFirstIt</a> i(*asset, m_firstVisibleChunkIndex, <span class="keyword">true</span>); (bool)i; ++i)
<a name="l00646"></a>00646         {
<a name="l00647"></a>00647             chunkActorIndices[(uint32_t)i] = invalidIndex&lt;uint32_t&gt;();
<a name="l00648"></a>00648         }
<a name="l00649"></a>00649         <a class="code" href="class_nv_1_1_blast_1_1_index_d_list.html">IndexDList&lt;uint32_t&gt;</a>().removeListHead(m_firstVisibleChunkIndex, visibleChunkIndexLinks);
<a name="l00650"></a>00650         --m_visibleChunkCount;
<a name="l00651"></a>00651     }
<a name="l00652"></a>00652     <a class="code" href="_nv_blast_assert_8h.html#2b179fca67cdb57b12b65e33fe3f6c93">NVBLAST_ASSERT</a>(m_visibleChunkCount == 0);
<a name="l00653"></a>00653 
<a name="l00654"></a>00654     <span class="comment">// Clear the leaf chunk count</span>
<a name="l00655"></a>00655     m_leafChunkCount = 0;
<a name="l00656"></a>00656 
<a name="l00657"></a>00657     <span class="comment">// This invalidates the actor and decrements the reference count</span>
<a name="l00658"></a>00658     header-&gt;<a class="code" href="struct_nv_1_1_blast_1_1_family_header.html#cc4fd2c9b502b0a1114ec672ee64c04a">returnActor</a>(*<span class="keyword">this</span>);
<a name="l00659"></a>00659 
<a name="l00660"></a>00660     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00661"></a>00661 }
<a name="l00662"></a>00662 
<a name="l00663"></a>00663 
<a name="l00664"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#4f9e6d8c9f2b31644ae0a4bb03f88309">00664</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> uint32_t <a class="code" href="class_nv_1_1_blast_1_1_actor.html#4f9e6d8c9f2b31644ae0a4bb03f88309">Actor::partition</a>(<a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>** newActors, uint32_t newActorsSize, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn)
<a name="l00665"></a>00665 {
<a name="l00666"></a>00666     <a class="code" href="_nv_blast_preprocessor_internal_8h.html#fcde65e0a048967e7acbc3d901f217cd">NVBLASTLL_CHECK</a>(newActorsSize == 0 || newActors != <span class="keyword">nullptr</span>, logFn, <span class="stringliteral">"Nv::Blast::Actor::partition: NULL newActors pointer array input with non-zero newActorCount."</span>, <span class="keywordflow">return</span> 0);
<a name="l00667"></a>00667 
<a name="l00668"></a>00668     <span class="comment">// Call one of two partition functions depending on the actor's support status</span>
<a name="l00669"></a>00669     <span class="keywordflow">return</span> m_graphNodeCount &lt;= 1 ?
<a name="l00670"></a>00670         <a class="code" href="class_nv_1_1_blast_1_1_actor.html#e75f198c241b12842e68e10e34e8ac39">partitionSingleLowerSupportChunk</a>(newActors, newActorsSize, logFn) : <span class="comment">// This actor will partition into subsupport chunks</span>
<a name="l00671"></a>00671         <a class="code" href="class_nv_1_1_blast_1_1_actor.html#eac2e1cee03f101305013770cf0dff46">partitionMultipleGraphNodes</a>(newActors, newActorsSize, logFn);       <span class="comment">// This actor will partition into support chunks</span>
<a name="l00672"></a>00672 }
<a name="l00673"></a>00673 
<a name="l00674"></a>00674 
<a name="l00675"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#c3ffff9a1718f2cb453725cda4259a8d">00675</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#c3ffff9a1718f2cb453725cda4259a8d">Actor::isBoundToWorld</a>()<span class="keyword"> const</span>
<a name="l00676"></a>00676 <span class="keyword"></span>{
<a name="l00677"></a>00677     <span class="keyword">const</span> <a class="code" href="struct_nv_1_1_blast_1_1_support_graph.html">SupportGraph</a>&amp; graph = *<a class="code" href="class_nv_1_1_blast_1_1_actor.html#c99a48ba8fc03c3e44d4cdb13612bc54">getGraph</a>();
<a name="l00678"></a>00678 
<a name="l00679"></a>00679     <span class="keywordflow">if</span> (graph.<a class="code" href="struct_nv_1_1_blast_1_1_support_graph.html#8e25ca3c8d3213c3737e53b7094431d1">m_nodeCount</a> == 0)
<a name="l00680"></a>00680     {
<a name="l00681"></a>00681         <span class="keywordflow">return</span> <span class="keyword">false</span>;   <span class="comment">// This shouldn't happen</span>
<a name="l00682"></a>00682     }
<a name="l00683"></a>00683 
<a name="l00684"></a>00684     <span class="keyword">const</span> uint32_t lastGraphChunkIndex = graph.getChunkIndices()[graph.<a class="code" href="struct_nv_1_1_blast_1_1_support_graph.html#8e25ca3c8d3213c3737e53b7094431d1">m_nodeCount</a> - 1];
<a name="l00685"></a>00685 
<a name="l00686"></a>00686     <span class="keywordflow">if</span> (!<a class="code" href="namespace_nv_1_1_blast.html#a5e952ab38e3501215eee523cb0a0d20">isInvalidIndex</a>(lastGraphChunkIndex))
<a name="l00687"></a>00687     {
<a name="l00688"></a>00688         <span class="keywordflow">return</span> <span class="keyword">false</span>;   <span class="comment">// There is no world node</span>
<a name="l00689"></a>00689     }
<a name="l00690"></a>00690 
<a name="l00691"></a>00691     <span class="keywordflow">return</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#429db395668307ba22fde4c5e2682ec8">getFamilyGraph</a>()-&gt;getIslandIds()[graph.<a class="code" href="struct_nv_1_1_blast_1_1_support_graph.html#8e25ca3c8d3213c3737e53b7094431d1">m_nodeCount</a> - 1] == <a class="code" href="class_nv_1_1_blast_1_1_actor.html#b329eb40c508c1a1709257c5d0d89c80">getIndex</a>();
<a name="l00692"></a>00692 }
<a name="l00693"></a>00693 
<a name="l00694"></a>00694 
<a name="l00695"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#57d6da1ace2c16bbd3d85a09a1f05ed6">00695</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#57d6da1ace2c16bbd3d85a09a1f05ed6">Actor::isSplitRequired</a>()<span class="keyword"> const</span>
<a name="l00696"></a>00696 <span class="keyword"></span>{
<a name="l00697"></a>00697     <a class="code" href="_nv_blast_assert_8h.html#2b179fca67cdb57b12b65e33fe3f6c93">NVBLAST_ASSERT</a>(<a class="code" href="class_nv_1_1_blast_1_1_actor.html#3d8f539000a51c21e4fd610b504a3bf6">isActive</a>());
<a name="l00698"></a>00698 
<a name="l00699"></a>00699     <span class="keywordflow">if</span> (<a class="code" href="class_nv_1_1_blast_1_1_actor.html#6f9d68ce898e4107fd936d7c1e9dd921">getGraphNodeCount</a>() &lt;= 1)
<a name="l00700"></a>00700     {
<a name="l00701"></a>00701         uint32_t chunkHealthIndex = <a class="code" href="class_nv_1_1_blast_1_1_actor.html#25972224f087f241f35ffeef6fca0681">isSingleSupportChunk</a>() ? <a class="code" href="class_nv_1_1_blast_1_1_actor.html#b329eb40c508c1a1709257c5d0d89c80">getIndex</a>() : <a class="code" href="class_nv_1_1_blast_1_1_actor.html#b6aee8dec9462c3ca4e6ab7c88d50527">getFirstVisibleChunkIndex</a>() - <a class="code" href="class_nv_1_1_blast_1_1_actor.html#002024d15f89fb12d7fdf87ca9cba554">getFirstSubsupportChunkIndex</a>() + <a class="code" href="class_nv_1_1_blast_1_1_actor.html#c99a48ba8fc03c3e44d4cdb13612bc54">getGraph</a>()-&gt;<a class="code" href="struct_nv_1_1_blast_1_1_support_graph.html#8e25ca3c8d3213c3737e53b7094431d1">m_nodeCount</a>;
<a name="l00702"></a>00702         <span class="keywordtype">float</span>* chunkHealths = <a class="code" href="class_nv_1_1_blast_1_1_actor.html#7945bc8bf80130d18f8cc4ffdd70b6c3">getLowerSupportChunkHealths</a>();
<a name="l00703"></a>00703         <span class="keywordflow">if</span> (chunkHealths[chunkHealthIndex] &lt;= 0.0f)
<a name="l00704"></a>00704         {
<a name="l00705"></a>00705             <span class="keyword">const</span> uint32_t chunkIndex = m_graphNodeCount == 0 ? m_firstVisibleChunkIndex : <a class="code" href="class_nv_1_1_blast_1_1_actor.html#c99a48ba8fc03c3e44d4cdb13612bc54">getGraph</a>()-&gt;getChunkIndices()[m_firstGraphNodeIndex];
<a name="l00706"></a>00706             <span class="keywordflow">if</span> (!<a class="code" href="namespace_nv_1_1_blast.html#a5e952ab38e3501215eee523cb0a0d20">isInvalidIndex</a>(chunkIndex))
<a name="l00707"></a>00707             {
<a name="l00708"></a>00708                 <span class="keyword">const</span> <a class="code" href="struct_nv_blast_chunk.html">NvBlastChunk</a>&amp; chunk = <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8326bdc2871657619eeafc807d1457">getChunks</a>()[chunkIndex];
<a name="l00709"></a>00709                 uint32_t childCount = chunk.<a class="code" href="struct_nv_blast_chunk.html#d5a53684d0123f6536598896f672b719">childIndexStop</a> - chunk.<a class="code" href="struct_nv_blast_chunk.html#788bc10dd2959c77871a64dcce87387d">firstChildIndex</a>;
<a name="l00710"></a>00710                 <span class="keywordflow">return</span> childCount &gt; 0;
<a name="l00711"></a>00711             }
<a name="l00712"></a>00712         }
<a name="l00713"></a>00713     }
<a name="l00714"></a>00714     <span class="keywordflow">else</span>
<a name="l00715"></a>00715     {
<a name="l00716"></a>00716         uint32_t* firstDirtyNodeIndices = <a class="code" href="class_nv_1_1_blast_1_1_actor.html#429db395668307ba22fde4c5e2682ec8">getFamilyGraph</a>()-&gt;getFirstDirtyNodeIndices();
<a name="l00717"></a>00717         <span class="keywordflow">if</span> (!<a class="code" href="namespace_nv_1_1_blast.html#a5e952ab38e3501215eee523cb0a0d20">isInvalidIndex</a>(firstDirtyNodeIndices[<a class="code" href="class_nv_1_1_blast_1_1_actor.html#b329eb40c508c1a1709257c5d0d89c80">getIndex</a>()]))
<a name="l00718"></a>00718         {
<a name="l00719"></a>00719             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00720"></a>00720         }
<a name="l00721"></a>00721 
<a name="l00722"></a>00722     }
<a name="l00723"></a>00723     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00724"></a>00724 }
<a name="l00725"></a>00725 
<a name="l00726"></a>00726 
<a name="l00728"></a>00728 
<a name="l00729"></a><a class="code" href="class_nv_1_1_blast_1_1_actor_1_1_visible_chunk_it.html#e438f37b95f269957478625a5974906c">00729</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <a class="code" href="class_nv_1_1_blast_1_1_actor_1_1_visible_chunk_it.html#e438f37b95f269957478625a5974906c">Actor::VisibleChunkIt::VisibleChunkIt</a>(<span class="keyword">const</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>&amp; actor) : <a class="code" href="class_nv_1_1_blast_1_1_d_list_it.html">DListIt</a>&lt;uint32_t&gt;(actor.m_firstVisibleChunkIndex, actor.getFamilyHeader()-&gt;getVisibleChunkIndexLinks())
<a name="l00730"></a>00730 {
<a name="l00731"></a>00731 }
<a name="l00732"></a>00732 
<a name="l00733"></a>00733 
<a name="l00735"></a>00735 
<a name="l00736"></a><a class="code" href="class_nv_1_1_blast_1_1_actor_1_1_graph_node_it.html#29b32ba21ecef350ffcbc7864348640c">00736</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <a class="code" href="class_nv_1_1_blast_1_1_actor_1_1_graph_node_it.html#29b32ba21ecef350ffcbc7864348640c">Actor::GraphNodeIt::GraphNodeIt</a>(<span class="keyword">const</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>&amp; actor) : <a class="code" href="class_nv_1_1_blast_1_1_l_list_it.html">LListIt</a>&lt;uint32_t&gt;(actor.m_firstGraphNodeIndex, actor.<a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>()-&gt;<a class="code" href="class_nv_1_1_blast_1_1_actor.html#d5767f4ad545fe41f5287fc5b906957d">getGraphNodeIndexLinks</a>())
<a name="l00737"></a>00737 {
<a name="l00738"></a>00738 }
<a name="l00739"></a>00739 
<a name="l00740"></a>00740 
<a name="l00742"></a>00742 
<a name="l00743"></a>00743 <span class="preprocessor">#if NVBLASTLL_CHECK_PARAMS</span>
<a name="l00744"></a>00744 <span class="preprocessor"></span>
<a name="l00747"></a>00747 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> isValid(<span class="keyword">const</span> <a class="code" href="struct_nv_blast_fracture_buffers.html">NvBlastFractureBuffers</a>* buffers)
<a name="l00748"></a>00748 {
<a name="l00749"></a>00749     <span class="keywordflow">if</span> (buffers-&gt;<a class="code" href="struct_nv_blast_fracture_buffers.html#28b22a3eaf7e9ff7506686073b067307" title="available elements in chunkFractures">chunkFractureCount</a> != 0 &amp;&amp; buffers-&gt;<a class="code" href="struct_nv_blast_fracture_buffers.html#bcca669987def0e1427d8f9ec1ab8afc" title="memory to be filled by fracture functions">chunkFractures</a> == <span class="keyword">nullptr</span>)
<a name="l00750"></a>00750         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00751"></a>00751 
<a name="l00752"></a>00752     <span class="keywordflow">if</span> (buffers-&gt;<a class="code" href="struct_nv_blast_fracture_buffers.html#6e0a226d98a23de576d376c4bf9fc356" title="available elements in bondFractures">bondFractureCount</a> != 0 &amp;&amp; buffers-&gt;<a class="code" href="struct_nv_blast_fracture_buffers.html#5768e2ed80216a98fbcaee56a6194837" title="memory to be filled by fracture functions">bondFractures</a> == <span class="keyword">nullptr</span>)
<a name="l00753"></a>00753         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00754"></a>00754 
<a name="l00755"></a>00755     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00756"></a>00756 }
<a name="l00757"></a>00757 <span class="preprocessor">#endif</span>
<a name="l00758"></a>00758 <span class="preprocessor"></span>
<a name="l00759"></a>00759 
<a name="l00760"></a>00760 } <span class="comment">// namespace Blast</span>
<a name="l00761"></a>00761 } <span class="comment">// namespace Nv</span>
<a name="l00762"></a>00762 
<a name="l00763"></a>00763 
<a name="l00764"></a>00764 <span class="preprocessor">#endif // ifndef NVBLASTACTOR_H</span>
</pre></div></div>
<!-- start footer part -->
<div class="footer">
Copyright &copy; 2015-2017 NVIDIA Corporation, 2701 San Tomas Expressway, Santa Clara, CA 95050 U.S.A. All rights reserved. <a href="http://www.nvidia.com ">www.nvidia.com</a>
</div>
</body>
</html>
