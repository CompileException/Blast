<html>
	<head>
		<title>NVIDIA(R) Blast(R) SDK 1.0 Source Reference: sdk/lowlevel/source/NvBlastActor.h Source File</title>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<LINK HREF="NVIDIA.css" REL="stylesheet" TYPE="text/css">
	</head>

	<body bgcolor="#FFFFFF">
		<div id="header">
			<hr class="first">
			<img alt="" src="blast_logo.png">
			<br>
			<center>
				<a class="qindex" href="main.html">Main Page</a> &nbsp; 
				<!-- <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; //-->
				<a class="qindex" href="annotated.html">Class List</a> &nbsp; 
				<a class="qindex" href="functions.html">Class Members</a> &nbsp;  
			</center>
			<hr class="second">
		</div>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>sdk/lowlevel/source/NvBlastActor.h</h1><a href="_nv_blast_actor_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2016-2017, NVIDIA CORPORATION.  All rights reserved.</span>
<a name="l00003"></a>00003 <span class="comment">*</span>
<a name="l00004"></a>00004 <span class="comment">* NVIDIA CORPORATION and its licensors retain all intellectual property</span>
<a name="l00005"></a>00005 <span class="comment">* and proprietary rights in and to this software, related documentation</span>
<a name="l00006"></a>00006 <span class="comment">* and any modifications thereto.  Any use, reproduction, disclosure or</span>
<a name="l00007"></a>00007 <span class="comment">* distribution of this software and related documentation without an express</span>
<a name="l00008"></a>00008 <span class="comment">* license agreement from NVIDIA CORPORATION is strictly prohibited.</span>
<a name="l00009"></a>00009 <span class="comment">*/</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="preprocessor">#ifndef NVBLASTACTOR_H</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span><span class="preprocessor">#define NVBLASTACTOR_H</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="preprocessor">#include "<a class="code" href="_nv_blast_asset_8h.html">NvBlastAsset.h</a>"</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include "<a class="code" href="_nv_blast_d_link_8h.html">NvBlastDLink.h</a>"</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include "<a class="code" href="_nv_blast_iterator_base_8h.html">NvBlastIteratorBase.h</a>"</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include "<a class="code" href="_nv_blast_support_graph_8h.html">NvBlastSupportGraph.h</a>"</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="preprocessor">#include &lt;cstring&gt;</span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="keyword">namespace </span>Nv
<a name="l00024"></a>00024 {
<a name="l00025"></a>00025 <span class="keyword">namespace </span>Blast
<a name="l00026"></a>00026 {
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="comment">// Forward declarations</span>
<a name="l00029"></a>00029 <span class="keyword">class </span>FamilyGraph;
<a name="l00030"></a>00030 <span class="keyword">struct </span>FamilyHeader;
<a name="l00031"></a>00031 
<a name="l00038"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html">00038</a> <span class="keyword">class </span><a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a> : <span class="keyword">public</span> <a class="code" href="struct_nv_blast_actor.html">NvBlastActor</a>
<a name="l00039"></a>00039 {
<a name="l00040"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#e80652887c7949e9bf5692fa06a1efa6">00040</a>     <span class="keyword">friend</span> <span class="keyword">struct </span><a class="code" href="struct_nv_1_1_blast_1_1_family_header.html">FamilyHeader</a>;
<a name="l00041"></a>00041 
<a name="l00042"></a>00042     <span class="keyword">friend</span> <span class="keywordtype">void</span> updateVisibleChunksFromSupportChunk&lt;&gt;(<a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>*, <a class="code" href="struct_nv_1_1_blast_1_1_index_d_link.html">IndexDLink&lt;uint32_t&gt;</a>*, uint32_t*, uint32_t, uint32_t, <span class="keyword">const</span> <a class="code" href="struct_nv_blast_chunk.html">NvBlastChunk</a>*, uint32_t);
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 <span class="keyword">public</span>:
<a name="l00045"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#49fd726e45168bd756e564cfaac6e356">00045</a>     <a class="code" href="class_nv_1_1_blast_1_1_actor.html#49fd726e45168bd756e564cfaac6e356">Actor</a>() : m_familyOffset(0), m_firstVisibleChunkIndex(UINT32_MAX), m_visibleChunkCount(0), m_firstGraphNodeIndex(UINT32_MAX), m_graphNodeCount(0), m_leafChunkCount(0) {}
<a name="l00046"></a>00046 
<a name="l00048"></a>00048 
<a name="l00054"></a>00054     <a class="code" href="struct_nv_1_1_blast_1_1_family_header.html">FamilyHeader</a>*       <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>() <span class="keyword">const</span>;
<a name="l00055"></a>00055 
<a name="l00061"></a>00061     <span class="keyword">const</span> <a class="code" href="class_nv_1_1_blast_1_1_asset.html">Asset</a>*        <a class="code" href="class_nv_1_1_blast_1_1_actor.html#01efe9a7ce4758228ff7fbfc18439e89">getAsset</a>() <span class="keyword">const</span>;
<a name="l00062"></a>00062 
<a name="l00070"></a>00070     <span class="keywordtype">bool</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#3d8f539000a51c21e4fd610b504a3bf6">isActive</a>() <span class="keyword">const</span>;
<a name="l00071"></a>00071 
<a name="l00077"></a>00077     <span class="keywordtype">bool</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#c4d1080a2df5ddafe54f1aa9afef6e40">isSubSupportChunk</a>() <span class="keyword">const</span>;
<a name="l00078"></a>00078 
<a name="l00085"></a>00085     <span class="keywordtype">bool</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#25972224f087f241f35ffeef6fca0681">isSingleSupportChunk</a>() <span class="keyword">const</span>;
<a name="l00086"></a>00086 
<a name="l00092"></a>00092     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#b329eb40c508c1a1709257c5d0d89c80">getIndex</a>() <span class="keyword">const</span>;
<a name="l00093"></a>00093 
<a name="l00100"></a>00100     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#b0603f4160ed95129a3236cf946a0857">getVisibleChunkCount</a>() <span class="keyword">const</span>;
<a name="l00101"></a>00101 
<a name="l00107"></a>00107     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#b6aee8dec9462c3ca4e6ab7c88d50527">getFirstVisibleChunkIndex</a>() <span class="keyword">const</span>;
<a name="l00108"></a>00108 
<a name="l00115"></a>00115     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#6f9d68ce898e4107fd936d7c1e9dd921">getGraphNodeCount</a>() <span class="keyword">const</span>;
<a name="l00116"></a>00116 
<a name="l00122"></a>00122     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#cffc5390424f427cedbdfc5016aa7c95">getLeafChunkCount</a>() <span class="keyword">const</span>;
<a name="l00123"></a>00123 
<a name="l00129"></a>00129     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#dfb84f684de7a4ea8fe3d1f5e64c3de5">getFirstGraphNodeIndex</a>() <span class="keyword">const</span>;
<a name="l00130"></a>00130 
<a name="l00136"></a>00136     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#002024d15f89fb12d7fdf87ca9cba554">getFirstSubsupportChunkIndex</a>() <span class="keyword">const</span>;
<a name="l00137"></a>00137 
<a name="l00143"></a>00143     <span class="keyword">const</span> <a class="code" href="struct_nv_1_1_blast_1_1_support_graph.html">SupportGraph</a>* <a class="code" href="class_nv_1_1_blast_1_1_actor.html#c99a48ba8fc03c3e44d4cdb13612bc54">getGraph</a>() <span class="keyword">const</span>;
<a name="l00144"></a>00144 
<a name="l00151"></a>00151     <a class="code" href="class_nv_1_1_blast_1_1_family_graph.html">FamilyGraph</a>*        <a class="code" href="class_nv_1_1_blast_1_1_actor.html#429db395668307ba22fde4c5e2682ec8">getFamilyGraph</a>() <span class="keyword">const</span>;
<a name="l00152"></a>00152 
<a name="l00158"></a>00158     <a class="code" href="struct_nv_blast_chunk.html">NvBlastChunk</a>*       <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8326bdc2871657619eeafc807d1457">getChunks</a>() <span class="keyword">const</span>;
<a name="l00159"></a>00159 
<a name="l00165"></a>00165     <a class="code" href="struct_nv_blast_bond.html">NvBlastBond</a>*        <a class="code" href="class_nv_1_1_blast_1_1_actor.html#9ddc5add20e934c2ec460b88ecb6556a">getBonds</a>() <span class="keyword">const</span>;
<a name="l00166"></a>00166 
<a name="l00174"></a>00174     <span class="keywordtype">float</span>*              <a class="code" href="class_nv_1_1_blast_1_1_actor.html#7945bc8bf80130d18f8cc4ffdd70b6c3">getLowerSupportChunkHealths</a>() <span class="keyword">const</span>;
<a name="l00175"></a>00175 
<a name="l00181"></a>00181     <span class="keywordtype">float</span>*              <a class="code" href="class_nv_1_1_blast_1_1_actor.html#765a28ec7411bba2569bfcb59e12924e">getSubsupportChunkHealths</a>() <span class="keyword">const</span>;
<a name="l00182"></a>00182 
<a name="l00188"></a>00188     <span class="keywordtype">float</span>*              <a class="code" href="class_nv_1_1_blast_1_1_actor.html#fbfed518265059f7d0ea6601636c6ed5">getBondHealths</a>() <span class="keyword">const</span>;
<a name="l00189"></a>00189 
<a name="l00195"></a>00195     <span class="keyword">const</span> uint32_t*     <a class="code" href="class_nv_1_1_blast_1_1_actor.html#d5767f4ad545fe41f5287fc5b906957d">getGraphNodeIndexLinks</a>() <span class="keyword">const</span>;
<a name="l00196"></a>00196 
<a name="l00197"></a>00197 
<a name="l00199"></a>00199 
<a name="l00213"></a><a class="code" href="class_nv_1_1_blast_1_1_actor_1_1_visible_chunk_it.html">00213</a>     <span class="keyword">class </span><a class="code" href="class_nv_1_1_blast_1_1_actor_1_1_visible_chunk_it.html">VisibleChunkIt</a> : <span class="keyword">public</span> <a class="code" href="class_nv_1_1_blast_1_1_d_list_it.html">DListIt</a>&lt;uint32_t&gt;
<a name="l00214"></a>00214     {
<a name="l00215"></a>00215     <span class="keyword">public</span>:
<a name="l00217"></a>00217         <a class="code" href="class_nv_1_1_blast_1_1_actor_1_1_visible_chunk_it.html#e438f37b95f269957478625a5974906c">VisibleChunkIt</a>(<span class="keyword">const</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>&amp; actor);
<a name="l00218"></a>00218     };
<a name="l00219"></a>00219 
<a name="l00233"></a><a class="code" href="class_nv_1_1_blast_1_1_actor_1_1_graph_node_it.html">00233</a>     <span class="keyword">class </span><a class="code" href="class_nv_1_1_blast_1_1_actor_1_1_graph_node_it.html">GraphNodeIt</a> : <span class="keyword">public</span> <a class="code" href="class_nv_1_1_blast_1_1_l_list_it.html">LListIt</a>&lt;uint32_t&gt;
<a name="l00234"></a>00234     {
<a name="l00235"></a>00235     <span class="keyword">public</span>:
<a name="l00237"></a>00237         <a class="code" href="class_nv_1_1_blast_1_1_actor_1_1_graph_node_it.html#29b32ba21ecef350ffcbc7864348640c">GraphNodeIt</a>(<span class="keyword">const</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>&amp; actor);
<a name="l00238"></a>00238     };
<a name="l00239"></a>00239 
<a name="l00240"></a>00240 
<a name="l00242"></a>00242 
<a name="l00255"></a>00255     <span class="keyword">static</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>*       <a class="code" href="class_nv_1_1_blast_1_1_actor.html#307ec3c8c73cb706ec153bd63baee7c4">create</a>(<a class="code" href="struct_nv_blast_family.html">NvBlastFamily</a>* family, <span class="keyword">const</span> <a class="code" href="struct_nv_blast_actor_desc.html">NvBlastActorDesc</a>* desc, <span class="keywordtype">void</span>* scratch, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn);
<a name="l00256"></a>00256 
<a name="l00265"></a>00265     <span class="keyword">static</span> <span class="keywordtype">size_t</span>       <a class="code" href="class_nv_1_1_blast_1_1_actor.html#3082322754cba457f678e567b288fe02">createRequiredScratch</a>(<span class="keyword">const</span> <a class="code" href="struct_nv_blast_family.html">NvBlastFamily</a>* family);
<a name="l00266"></a>00266 
<a name="l00278"></a>00278     <span class="keyword">static</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>*       <a class="code" href="class_nv_1_1_blast_1_1_actor.html#cc84f6ae1ee76cf23b15898d2ba23721">deserialize</a>(<a class="code" href="struct_nv_blast_family.html">NvBlastFamily</a>* family, <span class="keyword">const</span> <span class="keywordtype">void</span>* buffer, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn);
<a name="l00279"></a>00279 
<a name="l00289"></a>00289     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#c760ce0295329d39567e57a10fc6a1fe">serialize</a>(<span class="keywordtype">void</span>* buffer, uint32_t bufferSize, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn) <span class="keyword">const</span>;
<a name="l00290"></a>00290 
<a name="l00298"></a>00298     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#969be9f4dd3f7e96cc710f5116511a36">serializationRequiredStorage</a>(<a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn) <span class="keyword">const</span>;
<a name="l00299"></a>00299 
<a name="l00306"></a>00306     <span class="keywordtype">bool</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#d8552a04fa6cdb1f3a01d11d18209e5a">release</a>();
<a name="l00307"></a>00307 
<a name="l00308"></a>00308 
<a name="l00310"></a>00310 
<a name="l00314"></a>00314     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#7ae51f1cdc7a63ab67823d7cd08552d2">damageBond</a>(uint32_t nodeIndex0, uint32_t nodeIndex1, <span class="keywordtype">float</span> healthDamage);
<a name="l00315"></a>00315 
<a name="l00319"></a>00319     <span class="keywordtype">void</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#7ae51f1cdc7a63ab67823d7cd08552d2">damageBond</a>(uint32_t nodeIndex0, uint32_t nodeIndex1, uint32_t bondIndex, <span class="keywordtype">float</span> healthDamage);
<a name="l00320"></a>00320 
<a name="l00324"></a>00324     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#7ae51f1cdc7a63ab67823d7cd08552d2">damageBond</a>(<span class="keyword">const</span> <a class="code" href="struct_nv_blast_bond_fracture_data.html">NvBlastBondFractureData</a>&amp; cmd);
<a name="l00325"></a>00325 
<a name="l00329"></a>00329     <span class="keywordtype">void</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ad84134173598b48fa4620fc46e90eeb">generateFracture</a>(<a class="code" href="struct_nv_blast_fracture_buffers.html">NvBlastFractureBuffers</a>* commandBuffers, <span class="keyword">const</span> <a class="code" href="struct_nv_blast_damage_program.html">NvBlastDamageProgram</a>&amp; program, <span class="keyword">const</span> <a class="code" href="struct_nv_blast_program_params.html">NvBlastProgramParams</a>* programParams, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn, <a class="code" href="struct_nv_blast_timers.html">NvBlastTimers</a>* timers) <span class="keyword">const</span>;
<a name="l00330"></a>00330 
<a name="l00340"></a>00340     <span class="keywordtype">void</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#06f4047089ec7bb8481cbd15819ab1cd">fractureSubSupportNoEvents</a>(uint32_t chunkIndex, uint32_t suboffset, <span class="keywordtype">float</span> healthDamage, <span class="keywordtype">float</span>* chunkHealths, <span class="keyword">const</span> <a class="code" href="struct_nv_blast_chunk.html">NvBlastChunk</a>* chunks);
<a name="l00341"></a>00341 
<a name="l00356"></a>00356     <span class="keywordtype">void</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#5a4ee265580b6edf8878717f2a5dc5ed">fractureSubSupport</a>(uint32_t chunkIndex, uint32_t suboffset, <span class="keywordtype">float</span> healthDamage, <span class="keywordtype">float</span>* chunkHealths, <span class="keyword">const</span> <a class="code" href="struct_nv_blast_chunk.html">NvBlastChunk</a>* chunks, <a class="code" href="struct_nv_blast_chunk_fracture_data.html">NvBlastChunkFractureData</a>* outBuffer, uint32_t* currentIndex, <span class="keyword">const</span> uint32_t maxCount);
<a name="l00357"></a>00357 
<a name="l00364"></a>00364     <span class="keywordtype">void</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#a80f1c9da78597c56e57bb2c6b76285c">fractureNoEvents</a>(uint32_t chunkFractureCount, <span class="keyword">const</span> <a class="code" href="struct_nv_blast_chunk_fracture_data.html">NvBlastChunkFractureData</a>* chunkFractures);
<a name="l00365"></a>00365 
<a name="l00377"></a>00377     <span class="keywordtype">void</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#d86cac53bb44a61a73572a563fc53efb">fractureWithEvents</a>(uint32_t chunkFractureCount, <span class="keyword">const</span> <a class="code" href="struct_nv_blast_chunk_fracture_data.html">NvBlastChunkFractureData</a>* commands, <a class="code" href="struct_nv_blast_chunk_fracture_data.html">NvBlastChunkFractureData</a>* events, uint32_t eventsSize, uint32_t* count);
<a name="l00378"></a>00378 
<a name="l00391"></a>00391     <span class="keywordtype">void</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#6eb9dcec6bcf51c23e3c99d18e423b26">fractureInPlaceEvents</a>(uint32_t chunkFractureCount, <a class="code" href="struct_nv_blast_chunk_fracture_data.html">NvBlastChunkFractureData</a>* inoutbuffer, uint32_t eventsSize, uint32_t* count);
<a name="l00392"></a>00392 
<a name="l00396"></a>00396     <span class="keywordtype">void</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#cc3bf3a166faa14d058d8ef505228221">applyFracture</a>(<a class="code" href="struct_nv_blast_fracture_buffers.html">NvBlastFractureBuffers</a>* eventBuffers, <span class="keyword">const</span> <a class="code" href="struct_nv_blast_fracture_buffers.html">NvBlastFractureBuffers</a>* commands, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn, <a class="code" href="struct_nv_blast_timers.html">NvBlastTimers</a>* timers);
<a name="l00397"></a>00397 
<a name="l00403"></a>00403     <span class="keywordtype">size_t</span>              <a class="code" href="class_nv_1_1_blast_1_1_actor.html#6b9c6155e42a10f77ea5addc2ccbdcc4">splitRequiredScratch</a>() <span class="keyword">const</span>;
<a name="l00404"></a>00404 
<a name="l00408"></a>00408     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ecab306397e048f4f46440d4879ba879">split</a>(<a class="code" href="struct_nv_blast_actor_split_event.html">NvBlastActorSplitEvent</a>* result, uint32_t newActorsMaxCount, <span class="keywordtype">void</span>* scratch, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn, <a class="code" href="struct_nv_blast_timers.html">NvBlastTimers</a>* timers);
<a name="l00409"></a>00409 
<a name="l00419"></a>00419     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#372818aee680b0cefdcd27010234826e">findIslands</a>(<span class="keywordtype">void</span>* scratch);
<a name="l00420"></a>00420 
<a name="l00437"></a>00437     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#4f9e6d8c9f2b31644ae0a4bb03f88309">partition</a>(<a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>** newActors, uint32_t newActorsSize, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn);
<a name="l00438"></a>00438 
<a name="l00442"></a>00442     <span class="keywordtype">void</span>                <a class="code" href="class_nv_1_1_blast_1_1_actor.html#d4a77624d52d337f1b7158f0be6c233f">updateVisibleChunksFromGraphNodes</a>();
<a name="l00443"></a>00443 
<a name="l00458"></a>00458     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#e75f198c241b12842e68e10e34e8ac39">partitionSingleLowerSupportChunk</a>(<a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>** newActors, uint32_t newActorsSize, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn);
<a name="l00459"></a>00459 
<a name="l00474"></a>00474     uint32_t            <a class="code" href="class_nv_1_1_blast_1_1_actor.html#eac2e1cee03f101305013770cf0dff46">partitionMultipleGraphNodes</a>(<a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>** newActors, uint32_t newActorsSize, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn);
<a name="l00475"></a>00475 
<a name="l00476"></a>00476 <span class="keyword">private</span>:
<a name="l00477"></a>00477 
<a name="l00479"></a>00479 
<a name="l00487"></a>00487     uint32_t    m_familyOffset;
<a name="l00488"></a>00488 
<a name="l00493"></a>00493     uint32_t    m_firstVisibleChunkIndex;
<a name="l00494"></a>00494 
<a name="l00498"></a>00498     uint32_t    m_visibleChunkCount;
<a name="l00499"></a>00499 
<a name="l00504"></a>00504     uint32_t    m_firstGraphNodeIndex;
<a name="l00505"></a>00505 
<a name="l00509"></a>00509     uint32_t    m_graphNodeCount;
<a name="l00510"></a>00510 
<a name="l00514"></a>00514     uint32_t    m_leafChunkCount;
<a name="l00515"></a>00515 };
<a name="l00516"></a>00516 
<a name="l00517"></a>00517 } <span class="comment">// namespace Blast</span>
<a name="l00518"></a>00518 } <span class="comment">// namespace Nv</span>
<a name="l00519"></a>00519 
<a name="l00520"></a>00520 
<a name="l00521"></a>00521 <span class="preprocessor">#include "<a class="code" href="_nv_blast_family_8h.html">NvBlastFamily.h</a>"</span>
<a name="l00522"></a>00522 
<a name="l00523"></a>00523 
<a name="l00524"></a>00524 <span class="keyword">namespace </span>Nv
<a name="l00525"></a>00525 {
<a name="l00526"></a>00526 <span class="keyword">namespace </span>Blast
<a name="l00527"></a>00527 {
<a name="l00528"></a>00528 
<a name="l00530"></a>00530 
<a name="l00531"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">00531</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <a class="code" href="struct_nv_1_1_blast_1_1_family_header.html">FamilyHeader</a>* <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">Actor::getFamilyHeader</a>()<span class="keyword"> const</span>
<a name="l00532"></a>00532 <span class="keyword"></span>{
<a name="l00533"></a>00533     <a class="code" href="_nv_blast_assert_8h.html#2b179fca67cdb57b12b65e33fe3f6c93">NVBLAST_ASSERT</a>(<a class="code" href="class_nv_1_1_blast_1_1_actor.html#3d8f539000a51c21e4fd610b504a3bf6">isActive</a>());
<a name="l00534"></a>00534     <span class="keywordflow">return</span> (<a class="code" href="struct_nv_1_1_blast_1_1_family_header.html">FamilyHeader</a>*)((uintptr_t)<span class="keyword">this</span> - (uintptr_t)m_familyOffset);
<a name="l00535"></a>00535 }
<a name="l00536"></a>00536 
<a name="l00537"></a>00537 
<a name="l00538"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#01efe9a7ce4758228ff7fbfc18439e89">00538</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keyword">const</span> <a class="code" href="class_nv_1_1_blast_1_1_asset.html">Asset</a>* <a class="code" href="class_nv_1_1_blast_1_1_actor.html#01efe9a7ce4758228ff7fbfc18439e89">Actor::getAsset</a>()<span class="keyword"> const</span>
<a name="l00539"></a>00539 <span class="keyword"></span>{
<a name="l00540"></a>00540     <span class="keywordflow">return</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>()-&gt;<a class="code" href="struct_nv_1_1_blast_1_1_family_header.html#b1500a7965fb35635af84a091cf399e1">m_asset</a>;
<a name="l00541"></a>00541 }
<a name="l00542"></a>00542 
<a name="l00543"></a>00543 
<a name="l00544"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#3d8f539000a51c21e4fd610b504a3bf6">00544</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#3d8f539000a51c21e4fd610b504a3bf6">Actor::isActive</a>()<span class="keyword"> const</span>
<a name="l00545"></a>00545 <span class="keyword"></span>{
<a name="l00546"></a>00546     <span class="keywordflow">return</span> m_familyOffset != 0;
<a name="l00547"></a>00547 }
<a name="l00548"></a>00548 
<a name="l00549"></a>00549 
<a name="l00550"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#c4d1080a2df5ddafe54f1aa9afef6e40">00550</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#c4d1080a2df5ddafe54f1aa9afef6e40">Actor::isSubSupportChunk</a>()<span class="keyword"> const</span>
<a name="l00551"></a>00551 <span class="keyword"></span>{
<a name="l00552"></a>00552     <span class="keywordflow">return</span> m_graphNodeCount == 0;
<a name="l00553"></a>00553 }
<a name="l00554"></a>00554 
<a name="l00555"></a>00555 
<a name="l00556"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#25972224f087f241f35ffeef6fca0681">00556</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#25972224f087f241f35ffeef6fca0681">Actor::isSingleSupportChunk</a>()<span class="keyword"> const</span>
<a name="l00557"></a>00557 <span class="keyword"></span>{
<a name="l00558"></a>00558     <span class="keywordflow">return</span> m_graphNodeCount == 1;
<a name="l00559"></a>00559 }
<a name="l00560"></a>00560 
<a name="l00561"></a>00561 
<a name="l00562"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#b329eb40c508c1a1709257c5d0d89c80">00562</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> uint32_t <a class="code" href="class_nv_1_1_blast_1_1_actor.html#b329eb40c508c1a1709257c5d0d89c80">Actor::getIndex</a>()<span class="keyword"> const</span>
<a name="l00563"></a>00563 <span class="keyword"></span>{
<a name="l00564"></a>00564     <a class="code" href="_nv_blast_assert_8h.html#2b179fca67cdb57b12b65e33fe3f6c93">NVBLAST_ASSERT</a>(<a class="code" href="class_nv_1_1_blast_1_1_actor.html#3d8f539000a51c21e4fd610b504a3bf6">isActive</a>());
<a name="l00565"></a>00565     <span class="keyword">const</span> <a class="code" href="struct_nv_1_1_blast_1_1_family_header.html">FamilyHeader</a>* header = <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>();
<a name="l00566"></a>00566     <a class="code" href="_nv_blast_assert_8h.html#2b179fca67cdb57b12b65e33fe3f6c93">NVBLAST_ASSERT</a>(header != <span class="keyword">nullptr</span>);
<a name="l00567"></a>00567     <span class="keyword">const</span> <span class="keywordtype">size_t</span> index = <span class="keyword">this</span> - header-&gt;getActors();
<a name="l00568"></a>00568     <a class="code" href="_nv_blast_assert_8h.html#2b179fca67cdb57b12b65e33fe3f6c93">NVBLAST_ASSERT</a>(index &lt;= UINT32_MAX);
<a name="l00569"></a>00569     <span class="keywordflow">return</span> (uint32_t)index;
<a name="l00570"></a>00570 }
<a name="l00571"></a>00571 
<a name="l00572"></a>00572 
<a name="l00573"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#b0603f4160ed95129a3236cf946a0857">00573</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> uint32_t <a class="code" href="class_nv_1_1_blast_1_1_actor.html#b0603f4160ed95129a3236cf946a0857">Actor::getVisibleChunkCount</a>()<span class="keyword"> const</span>
<a name="l00574"></a>00574 <span class="keyword"></span>{
<a name="l00575"></a>00575     <span class="keywordflow">return</span> m_visibleChunkCount;
<a name="l00576"></a>00576 }
<a name="l00577"></a>00577 
<a name="l00578"></a>00578 
<a name="l00579"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#b6aee8dec9462c3ca4e6ab7c88d50527">00579</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> uint32_t <a class="code" href="class_nv_1_1_blast_1_1_actor.html#b6aee8dec9462c3ca4e6ab7c88d50527">Actor::getFirstVisibleChunkIndex</a>()<span class="keyword"> const</span>
<a name="l00580"></a>00580 <span class="keyword"></span>{
<a name="l00581"></a>00581     <span class="keywordflow">return</span> m_firstVisibleChunkIndex;
<a name="l00582"></a>00582 }
<a name="l00583"></a>00583 
<a name="l00584"></a>00584 
<a name="l00585"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#6f9d68ce898e4107fd936d7c1e9dd921">00585</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> uint32_t <a class="code" href="class_nv_1_1_blast_1_1_actor.html#6f9d68ce898e4107fd936d7c1e9dd921">Actor::getGraphNodeCount</a>()<span class="keyword"> const</span>
<a name="l00586"></a>00586 <span class="keyword"></span>{
<a name="l00587"></a>00587     <span class="keywordflow">return</span> m_graphNodeCount;
<a name="l00588"></a>00588 }
<a name="l00589"></a>00589 
<a name="l00590"></a>00590 
<a name="l00591"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#cffc5390424f427cedbdfc5016aa7c95">00591</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> uint32_t <a class="code" href="class_nv_1_1_blast_1_1_actor.html#cffc5390424f427cedbdfc5016aa7c95">Actor::getLeafChunkCount</a>()<span class="keyword"> const</span>
<a name="l00592"></a>00592 <span class="keyword"></span>{
<a name="l00593"></a>00593     <span class="keywordflow">return</span> m_leafChunkCount;
<a name="l00594"></a>00594 }
<a name="l00595"></a>00595 
<a name="l00596"></a>00596 
<a name="l00597"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#dfb84f684de7a4ea8fe3d1f5e64c3de5">00597</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> uint32_t <a class="code" href="class_nv_1_1_blast_1_1_actor.html#dfb84f684de7a4ea8fe3d1f5e64c3de5">Actor::getFirstGraphNodeIndex</a>()<span class="keyword"> const</span>
<a name="l00598"></a>00598 <span class="keyword"></span>{
<a name="l00599"></a>00599     <span class="keywordflow">return</span> m_firstGraphNodeIndex;
<a name="l00600"></a>00600 }
<a name="l00601"></a>00601 
<a name="l00602"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#002024d15f89fb12d7fdf87ca9cba554">00602</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> uint32_t <a class="code" href="class_nv_1_1_blast_1_1_actor.html#002024d15f89fb12d7fdf87ca9cba554">Actor::getFirstSubsupportChunkIndex</a>()<span class="keyword"> const</span>
<a name="l00603"></a>00603 <span class="keyword"></span>{
<a name="l00604"></a>00604     <span class="keywordflow">return</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#01efe9a7ce4758228ff7fbfc18439e89">getAsset</a>()-&gt;<a class="code" href="class_nv_1_1_blast_1_1_asset.html#6cfa7f72e5f815e519550dd46dc087a9">m_firstSubsupportChunkIndex</a>;
<a name="l00605"></a>00605 }
<a name="l00606"></a>00606 
<a name="l00607"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#c99a48ba8fc03c3e44d4cdb13612bc54">00607</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keyword">const</span> <a class="code" href="struct_nv_1_1_blast_1_1_support_graph.html">SupportGraph</a>* <a class="code" href="class_nv_1_1_blast_1_1_actor.html#c99a48ba8fc03c3e44d4cdb13612bc54">Actor::getGraph</a>()<span class="keyword"> const</span>
<a name="l00608"></a>00608 <span class="keyword"></span>{
<a name="l00609"></a>00609     <span class="keywordflow">return</span> &amp;<a class="code" href="class_nv_1_1_blast_1_1_actor.html#01efe9a7ce4758228ff7fbfc18439e89">getAsset</a>()-&gt;<a class="code" href="class_nv_1_1_blast_1_1_asset.html#d07d72453b9db6a1387f7fbd934eb2fd">m_graph</a>;
<a name="l00610"></a>00610 }
<a name="l00611"></a>00611 
<a name="l00612"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#429db395668307ba22fde4c5e2682ec8">00612</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <a class="code" href="class_nv_1_1_blast_1_1_family_graph.html">FamilyGraph</a>* <a class="code" href="class_nv_1_1_blast_1_1_actor.html#429db395668307ba22fde4c5e2682ec8">Actor::getFamilyGraph</a>()<span class="keyword"> const</span>
<a name="l00613"></a>00613 <span class="keyword"></span>{
<a name="l00614"></a>00614     <span class="keywordflow">return</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>()-&gt;getFamilyGraph();
<a name="l00615"></a>00615 }
<a name="l00616"></a>00616 
<a name="l00617"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8326bdc2871657619eeafc807d1457">00617</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <a class="code" href="struct_nv_blast_chunk.html">NvBlastChunk</a>* <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8326bdc2871657619eeafc807d1457">Actor::getChunks</a>()<span class="keyword"> const</span>
<a name="l00618"></a>00618 <span class="keyword"></span>{
<a name="l00619"></a>00619     <span class="keywordflow">return</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#01efe9a7ce4758228ff7fbfc18439e89">getAsset</a>()-&gt;getChunks();
<a name="l00620"></a>00620 }
<a name="l00621"></a>00621 
<a name="l00622"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#9ddc5add20e934c2ec460b88ecb6556a">00622</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <a class="code" href="struct_nv_blast_bond.html">NvBlastBond</a>* <a class="code" href="class_nv_1_1_blast_1_1_actor.html#9ddc5add20e934c2ec460b88ecb6556a">Actor::getBonds</a>()<span class="keyword"> const</span>
<a name="l00623"></a>00623 <span class="keyword"></span>{
<a name="l00624"></a>00624     <span class="keywordflow">return</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#01efe9a7ce4758228ff7fbfc18439e89">getAsset</a>()-&gt;getBonds();
<a name="l00625"></a>00625 }
<a name="l00626"></a>00626 
<a name="l00627"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#7945bc8bf80130d18f8cc4ffdd70b6c3">00627</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keywordtype">float</span>* <a class="code" href="class_nv_1_1_blast_1_1_actor.html#7945bc8bf80130d18f8cc4ffdd70b6c3">Actor::getLowerSupportChunkHealths</a>()<span class="keyword"> const</span>
<a name="l00628"></a>00628 <span class="keyword"></span>{
<a name="l00629"></a>00629     <span class="keywordflow">return</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>()-&gt;getLowerSupportChunkHealths();
<a name="l00630"></a>00630 }
<a name="l00631"></a>00631 
<a name="l00632"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#765a28ec7411bba2569bfcb59e12924e">00632</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keywordtype">float</span>*    <a class="code" href="class_nv_1_1_blast_1_1_actor.html#765a28ec7411bba2569bfcb59e12924e">Actor::getSubsupportChunkHealths</a>()<span class="keyword"> const</span>
<a name="l00633"></a>00633 <span class="keyword"></span>{
<a name="l00634"></a>00634     <span class="keywordflow">return</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>()-&gt;<a class="code" href="struct_nv_1_1_blast_1_1_family_header.html#ddfc84d59d9a0b65f3f6b89d895b2041">getSubsupportChunkHealths</a>();
<a name="l00635"></a>00635 }
<a name="l00636"></a>00636 
<a name="l00637"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#fbfed518265059f7d0ea6601636c6ed5">00637</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keywordtype">float</span>* <a class="code" href="class_nv_1_1_blast_1_1_actor.html#fbfed518265059f7d0ea6601636c6ed5">Actor::getBondHealths</a>()<span class="keyword"> const</span>
<a name="l00638"></a>00638 <span class="keyword"></span>{
<a name="l00639"></a>00639     <span class="keywordflow">return</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>()-&gt;getBondHealths();
<a name="l00640"></a>00640 }
<a name="l00641"></a>00641 
<a name="l00642"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#d5767f4ad545fe41f5287fc5b906957d">00642</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keyword">const</span> uint32_t* <a class="code" href="class_nv_1_1_blast_1_1_actor.html#d5767f4ad545fe41f5287fc5b906957d">Actor::getGraphNodeIndexLinks</a>()<span class="keyword"> const</span>
<a name="l00643"></a>00643 <span class="keyword"></span>{
<a name="l00644"></a>00644     <span class="keywordflow">return</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>()-&gt;getGraphNodeIndexLinks();
<a name="l00645"></a>00645 }
<a name="l00646"></a>00646 
<a name="l00647"></a>00647 
<a name="l00648"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#d8552a04fa6cdb1f3a01d11d18209e5a">00648</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html#d8552a04fa6cdb1f3a01d11d18209e5a">Actor::release</a>()
<a name="l00649"></a>00649 {
<a name="l00650"></a>00650     <span class="comment">// Do nothing if this actor is not currently active.</span>
<a name="l00651"></a>00651     <span class="keywordflow">if</span> (!<a class="code" href="class_nv_1_1_blast_1_1_actor.html#3d8f539000a51c21e4fd610b504a3bf6">isActive</a>())
<a name="l00652"></a>00652     {
<a name="l00653"></a>00653         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00654"></a>00654     }
<a name="l00655"></a>00655 
<a name="l00656"></a>00656     <a class="code" href="struct_nv_1_1_blast_1_1_family_header.html">FamilyHeader</a>* header = <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>();
<a name="l00657"></a>00657 
<a name="l00658"></a>00658     <span class="comment">// Clear the graph node list</span>
<a name="l00659"></a>00659     uint32_t* graphNodeIndexLinks = <a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>()-&gt;getGraphNodeIndexLinks();
<a name="l00660"></a>00660     <span class="keywordflow">while</span> (!<a class="code" href="namespace_nv_1_1_blast.html#a5e952ab38e3501215eee523cb0a0d20">isInvalidIndex</a>(m_firstGraphNodeIndex))
<a name="l00661"></a>00661     {
<a name="l00662"></a>00662         <span class="keyword">const</span> uint32_t graphNodeIndex = m_firstGraphNodeIndex;
<a name="l00663"></a>00663         m_firstGraphNodeIndex = graphNodeIndexLinks[m_firstGraphNodeIndex];
<a name="l00664"></a>00664         graphNodeIndexLinks[graphNodeIndex] = invalidIndex&lt;uint32_t&gt;();
<a name="l00665"></a>00665         --m_graphNodeCount;
<a name="l00666"></a>00666     }
<a name="l00667"></a>00667     <a class="code" href="_nv_blast_assert_8h.html#2b179fca67cdb57b12b65e33fe3f6c93">NVBLAST_ASSERT</a>(m_graphNodeCount == 0);
<a name="l00668"></a>00668 
<a name="l00669"></a>00669     <span class="keyword">const</span> <a class="code" href="class_nv_1_1_blast_1_1_asset.html">Asset</a>* asset = <a class="code" href="class_nv_1_1_blast_1_1_actor.html#01efe9a7ce4758228ff7fbfc18439e89">getAsset</a>();
<a name="l00670"></a>00670 
<a name="l00671"></a>00671     <span class="comment">// Clear the visible chunk list</span>
<a name="l00672"></a>00672     <a class="code" href="struct_nv_1_1_blast_1_1_index_d_link.html">IndexDLink&lt;uint32_t&gt;</a>* visibleChunkIndexLinks = header-&gt;getVisibleChunkIndexLinks();
<a name="l00673"></a>00673     uint32_t* chunkActorIndices = header-&gt;getChunkActorIndices();
<a name="l00674"></a>00674     <span class="keywordflow">while</span> (!<a class="code" href="namespace_nv_1_1_blast.html#a5e952ab38e3501215eee523cb0a0d20">isInvalidIndex</a>(m_firstVisibleChunkIndex))
<a name="l00675"></a>00675     {
<a name="l00676"></a>00676         <span class="comment">// Descendants of the visible actor may be accessed again if the actor is deserialized.  Clear subtree.</span>
<a name="l00677"></a>00677         <span class="keywordflow">for</span> (<a class="code" href="class_nv_1_1_blast_1_1_asset_1_1_depth_first_it.html">Asset::DepthFirstIt</a> i(*asset, m_firstVisibleChunkIndex, <span class="keyword">true</span>); (bool)i; ++i)
<a name="l00678"></a>00678         {
<a name="l00679"></a>00679             chunkActorIndices[(uint32_t)i] = invalidIndex&lt;uint32_t&gt;();
<a name="l00680"></a>00680         }
<a name="l00681"></a>00681         <a class="code" href="class_nv_1_1_blast_1_1_index_d_list.html">IndexDList&lt;uint32_t&gt;</a>().removeListHead(m_firstVisibleChunkIndex, visibleChunkIndexLinks);
<a name="l00682"></a>00682         --m_visibleChunkCount;
<a name="l00683"></a>00683     }
<a name="l00684"></a>00684     <a class="code" href="_nv_blast_assert_8h.html#2b179fca67cdb57b12b65e33fe3f6c93">NVBLAST_ASSERT</a>(m_visibleChunkCount == 0);
<a name="l00685"></a>00685 
<a name="l00686"></a>00686     <span class="comment">// Clear the leaf chunk count</span>
<a name="l00687"></a>00687     m_leafChunkCount = 0;
<a name="l00688"></a>00688 
<a name="l00689"></a>00689     <span class="comment">// This invalidates the actor and decrements the reference count</span>
<a name="l00690"></a>00690     header-&gt;<a class="code" href="struct_nv_1_1_blast_1_1_family_header.html#cc4fd2c9b502b0a1114ec672ee64c04a">returnActor</a>(*<span class="keyword">this</span>);
<a name="l00691"></a>00691 
<a name="l00692"></a>00692     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00693"></a>00693 }
<a name="l00694"></a>00694 
<a name="l00695"></a>00695 
<a name="l00696"></a><a class="code" href="class_nv_1_1_blast_1_1_actor.html#4f9e6d8c9f2b31644ae0a4bb03f88309">00696</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> uint32_t <a class="code" href="class_nv_1_1_blast_1_1_actor.html#4f9e6d8c9f2b31644ae0a4bb03f88309">Actor::partition</a>(<a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>** newActors, uint32_t newActorsSize, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn)
<a name="l00697"></a>00697 {
<a name="l00698"></a>00698     <a class="code" href="_nv_blast_preprocessor_internal_8h.html#5eed5965fe28d091bae9336d2361faea">NVBLAST_CHECK</a>(newActorsSize == 0 || newActors != <span class="keyword">nullptr</span>, logFn, <span class="stringliteral">"Nv::Blast::Actor::partition: NULL newActors pointer array input with non-zero newActorCount."</span>, <span class="keywordflow">return</span> 0);
<a name="l00699"></a>00699 
<a name="l00700"></a>00700     <span class="comment">// Call one of two partition functions depending on the actor's support status</span>
<a name="l00701"></a>00701     <span class="keywordflow">return</span> m_graphNodeCount &lt;= 1 ?
<a name="l00702"></a>00702         <a class="code" href="class_nv_1_1_blast_1_1_actor.html#e75f198c241b12842e68e10e34e8ac39">partitionSingleLowerSupportChunk</a>(newActors, newActorsSize, logFn) : <span class="comment">// This actor will partition into subsupport chunks</span>
<a name="l00703"></a>00703         <a class="code" href="class_nv_1_1_blast_1_1_actor.html#eac2e1cee03f101305013770cf0dff46">partitionMultipleGraphNodes</a>(newActors, newActorsSize, logFn);       <span class="comment">// This actor will partition into support chunks</span>
<a name="l00704"></a>00704 }
<a name="l00705"></a>00705 
<a name="l00706"></a>00706 
<a name="l00708"></a>00708 
<a name="l00709"></a><a class="code" href="class_nv_1_1_blast_1_1_actor_1_1_visible_chunk_it.html#e438f37b95f269957478625a5974906c">00709</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <a class="code" href="class_nv_1_1_blast_1_1_actor_1_1_visible_chunk_it.html#e438f37b95f269957478625a5974906c">Actor::VisibleChunkIt::VisibleChunkIt</a>(<span class="keyword">const</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>&amp; actor) : <a class="code" href="class_nv_1_1_blast_1_1_d_list_it.html">DListIt</a>&lt;uint32_t&gt;(actor.m_firstVisibleChunkIndex, actor.getFamilyHeader()-&gt;getVisibleChunkIndexLinks())
<a name="l00710"></a>00710 {
<a name="l00711"></a>00711 }
<a name="l00712"></a>00712 
<a name="l00713"></a>00713 
<a name="l00715"></a>00715 
<a name="l00716"></a><a class="code" href="class_nv_1_1_blast_1_1_actor_1_1_graph_node_it.html#29b32ba21ecef350ffcbc7864348640c">00716</a> <a class="code" href="group__foundation.html#g36a01a4a51968418a26b06da7e1ad5d0">NV_INLINE</a> <a class="code" href="class_nv_1_1_blast_1_1_actor_1_1_graph_node_it.html#29b32ba21ecef350ffcbc7864348640c">Actor::GraphNodeIt::GraphNodeIt</a>(<span class="keyword">const</span> <a class="code" href="class_nv_1_1_blast_1_1_actor.html">Actor</a>&amp; actor) : <a class="code" href="class_nv_1_1_blast_1_1_l_list_it.html">LListIt</a>&lt;uint32_t&gt;(actor.m_firstGraphNodeIndex, actor.<a class="code" href="class_nv_1_1_blast_1_1_actor.html#ca8517524822b8a5033e95779260412b">getFamilyHeader</a>()-&gt;<a class="code" href="class_nv_1_1_blast_1_1_actor.html#d5767f4ad545fe41f5287fc5b906957d">getGraphNodeIndexLinks</a>())
<a name="l00717"></a>00717 {
<a name="l00718"></a>00718 }
<a name="l00719"></a>00719 
<a name="l00720"></a>00720 } <span class="comment">// namespace Blast</span>
<a name="l00721"></a>00721 } <span class="comment">// namespace Nv</span>
<a name="l00722"></a>00722 
<a name="l00723"></a>00723 
<a name="l00729"></a>00729 uint32_t <a class="code" href="_nv_blast_actor_8h.html#a9f4338c3d15433197585f9a9c2f9d19">NvBlastActorClosestChunk</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> point[4], <span class="keyword">const</span> <a class="code" href="struct_nv_blast_actor.html">NvBlastActor</a>* actor, <a class="code" href="_nv_blast_types_8h.html#fa1be237d696dc68e343189c19cc76e0">NvBlastLog</a> logFn);
<a name="l00730"></a>00730 
<a name="l00731"></a>00731 
<a name="l00732"></a>00732 <span class="preprocessor">#endif // ifndef NVBLASTACTOR_H</span>
</pre></div></div>
<!-- start footer part -->
<div class="footer">
Copyright &copy; 2015-2017 NVIDIA Corporation, 2701 San Tomas Expressway, Santa Clara, CA 95050 U.S.A. All rights reserved. <a href="http://www.nvidia.com ">www.nvidia.com</a>
</div>
</body>
</html>
