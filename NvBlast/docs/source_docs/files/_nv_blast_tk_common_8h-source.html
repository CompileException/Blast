<html>
	<head>
		<title>NVIDIA(R) Blast(R) SDK 1.0 Source Reference: sdk/toolkit/source/NvBlastTkCommon.h Source File</title>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<LINK HREF="NVIDIA.css" REL="stylesheet" TYPE="text/css">
	</head>

	<body bgcolor="#FFFFFF">
		<div id="header">
			<hr class="first">
			<img alt="" src="blast_logo.png">
			<br>
			<center>
				<a class="qindex" href="main.html">Main Page</a> &nbsp; 
				<!-- <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; //-->
				<a class="qindex" href="annotated.html">Class List</a> &nbsp; 
				<a class="qindex" href="functions.html">Class Members</a> &nbsp;  
			</center>
			<hr class="second">
		</div>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>sdk/toolkit/source/NvBlastTkCommon.h</h1><a href="_nv_blast_tk_common_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2016-2017, NVIDIA CORPORATION.  All rights reserved.</span>
<a name="l00003"></a>00003 <span class="comment">*</span>
<a name="l00004"></a>00004 <span class="comment">* NVIDIA CORPORATION and its licensors retain all intellectual property</span>
<a name="l00005"></a>00005 <span class="comment">* and proprietary rights in and to this software, related documentation</span>
<a name="l00006"></a>00006 <span class="comment">* and any modifications thereto.  Any use, reproduction, disclosure or</span>
<a name="l00007"></a>00007 <span class="comment">* distribution of this software and related documentation without an express</span>
<a name="l00008"></a>00008 <span class="comment">* license agreement from NVIDIA CORPORATION is strictly prohibited.</span>
<a name="l00009"></a>00009 <span class="comment">*/</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="preprocessor">#ifndef NVBLASTTKCOMMON_H</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span><span class="preprocessor">#define NVBLASTTKCOMMON_H</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="preprocessor">#include "<a class="code" href="_nv_preprocessor_8h.html">NvPreprocessor.h</a>"</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include "<a class="code" href="_nv_blast_tk_g_u_i_d_8h.html">NvBlastTkGUID.h</a>"</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="comment">// Macro to load a uint32_t (or larger) with four characters</span>
<a name="l00020"></a><a class="code" href="_nv_blast_tk_common_8h.html#56a79252d2fe479a4211d211d84c5320">00020</a> <span class="preprocessor">#define NVBLASTTK_FOURCC(_a, _b, _c, _d)    ( (uint32_t)(_a) | (uint32_t)(_b)&lt;&lt;8 | (uint32_t)(_c)&lt;&lt;16 | (uint32_t)(_d)&lt;&lt;24 )</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="comment">// Macro to define standard object classes.  An intermediate class is defined which holds common implementations.</span>
<a name="l00024"></a><a class="code" href="_nv_blast_tk_common_8h.html#6780b152c722066f67ab03eca09872dc">00024</a> <span class="preprocessor">#define NVBLASTTK_IMPL_DECLARE(_name)                                               \</span>
<a name="l00025"></a>00025 <span class="preprocessor">class Tk##_name##Type : public Tk##_name                                            \</span>
<a name="l00026"></a>00026 <span class="preprocessor">{                                                                                   \</span>
<a name="l00027"></a>00027 <span class="preprocessor">public:                                                                             \</span>
<a name="l00028"></a>00028 <span class="preprocessor">    </span><span class="comment">/* Blank constructor generates a new NvBlastID and informs framework  */</span>        \
<a name="l00029"></a>00029     Tk##_name##Type()                                                               \
<a name="l00030"></a>00030     {                                                                               \
<a name="l00031"></a>00031         memset(&amp;m_ID, 0, sizeof(NvBlastID));                                        \
<a name="l00032"></a>00032         setID(TkGenerateGUID(this));                                                \
<a name="l00033"></a>00033         TkFrameworkImpl::get()-&gt;onCreate(*this);                                    \
<a name="l00034"></a>00034     }                                                                               \
<a name="l00035"></a>00035                                                                                     \
<a name="l00036"></a>00036     <span class="comment">/* This constructor takes an existing NvBlastID and informs framework  */</span>       \
<a name="l00037"></a>00037     Tk##_name##Type(const NvBlastID&amp; id)                                            \
<a name="l00038"></a>00038     {                                                                               \
<a name="l00039"></a>00039         memset(&amp;m_ID, 0, sizeof(NvBlastID));                                        \
<a name="l00040"></a>00040         setID(id);                                                                  \
<a name="l00041"></a>00041         TkFrameworkImpl::get()-&gt;onCreate(*this);                                    \
<a name="l00042"></a>00042     }                                                                               \
<a name="l00043"></a>00043                                                                                     \
<a name="l00044"></a>00044     <span class="comment">/* Destructor informs framework  */</span>                                             \
<a name="l00045"></a>00045     ~Tk##_name##Type()  { TkFrameworkImpl::get()-&gt;onDestroy(*this); }               \
<a name="l00046"></a>00046                                                                                     \
<a name="l00047"></a>00047     <span class="comment">/* Begin TkIdentifiable */</span>                                                      \
<a name="l00048"></a>00048     virtual void                setID(const NvBlastID&amp; id) override                 \
<a name="l00049"></a>00049     {                                                                               \
<a name="l00050"></a>00050         <span class="comment">/* Inform framework of ID change */</span>                                         \
<a name="l00051"></a>00051         TkFrameworkImpl::get()-&gt;onIDChange(*this, m_ID, id);                        \
<a name="l00052"></a>00052         m_ID = id;                                                                  \
<a name="l00053"></a>00053     }                                                                               \
<a name="l00054"></a>00054     virtual const NvBlastID&amp;    getID() const override { return getIDInternal(); }  \
<a name="l00055"></a>00055     virtual const TkType&amp;       getType() const override { return s_type; }         \
<a name="l00056"></a>00056     <span class="comment">/* End TkIdentifiable */</span>                                                        \
<a name="l00057"></a>00057                                                                                     \
<a name="l00058"></a>00058     <span class="comment">/* Begin public API */</span>                                                          \
<a name="l00059"></a>00059                                                                                     \
<a name="l00060"></a>00060     <span class="comment">/* Inline method for internal access to NvBlastID */</span>                            \
<a name="l00061"></a>00061     const  NvBlastID&amp;           getIDInternal() const { return m_ID; }              \
<a name="l00062"></a>00062                                                                                     \
<a name="l00063"></a>00063     <span class="comment">/* End public API */</span>                                                            \
<a name="l00064"></a>00064                                                                                     \
<a name="l00065"></a>00065     <span class="comment">/* Static type information */</span>                                                   \
<a name="l00066"></a>00066     static TkTypeImpl   s_type;                                                     \
<a name="l00067"></a>00067                                                                                     \
<a name="l00068"></a>00068 private:                                                                            \
<a name="l00069"></a>00069     NvBlastID           m_ID;   <span class="comment">/* NvBlastID for a TkIdentifiable object */</span>         \
<a name="l00070"></a>00070 };                                                                                  \
<a name="l00071"></a>00071                                                                                     \
<a name="l00072"></a>00072 <span class="comment">/* Derive object implementation from common implementation class above */</span>           \
<a name="l00073"></a>00073 class Tk##_name##Impl final : public Tk##_name##Type
<a name="l00074"></a>00074 
<a name="l00075"></a>00075 
<a name="l00076"></a>00076 <span class="comment">// Macro to declare standard object interfaces, enums, etc.</span>
<a name="l00077"></a><a class="code" href="_nv_blast_tk_common_8h.html#dc9deb5a641537a8c6dc144d6c8279b5">00077</a> <span class="preprocessor">#define NVBLASTTK_IMPL_DEFINE_IDENTIFIABLE(_id0, _id1, _id2, _id3)      \</span>
<a name="l00078"></a>00078 <span class="preprocessor">    </span><span class="comment">/* Begin TkObject */</span>                                                \
<a name="l00079"></a>00079     virtual void        release() override;                             \
<a name="l00080"></a>00080     <span class="comment">/* End TkObject */</span>                                                  \
<a name="l00081"></a>00081                                                                         \
<a name="l00082"></a>00082     <span class="comment">/* Enums */</span>                                                         \
<a name="l00083"></a>00083                                                                         \
<a name="l00084"></a>00084     <span class="comment">/* Generate a ClassID enum used to identify this TkIdentifiable. */</span> \
<a name="l00085"></a>00085     enum { ClassID = NVBLASTTK_FOURCC(_id0, _id1, _id2, _id3) }
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 
<a name="l00088"></a>00088 <span class="comment">// Macro to declare standard object interfaces, enums, etc (serializable version)</span>
<a name="l00089"></a><a class="code" href="_nv_blast_tk_common_8h.html#b6c0c5fa4b36a144778c8558ba97a6b2">00089</a> <span class="preprocessor">#define NVBLASTTK_IMPL_DEFINE_SERIALIZABLE(_id0, _id1, _id2, _id3)                                      \</span>
<a name="l00090"></a>00090 <span class="preprocessor">    NVBLASTTK_IMPL_DEFINE_IDENTIFIABLE(_id0, _id1, _id2, _id3);                                         \</span>
<a name="l00091"></a>00091 <span class="preprocessor">                                                                                                        \</span>
<a name="l00092"></a>00092 <span class="preprocessor">    </span><span class="comment">/* Begin TkSerializable */</span>                                                                          \
<a name="l00093"></a>00093     virtual bool            serialize(physx::general_PxIOStream2::PxFileBuf&amp; stream) const override;    \
<a name="l00094"></a>00094     <span class="comment">/* End TkSerializable */</span>                                                                            \
<a name="l00095"></a>00095                                                                                                         \
<a name="l00096"></a>00096     <span class="comment">/* Static deserialization function, called by TkFrameworkImpl::deserialize after header data */</span>     \
<a name="l00097"></a>00097     static TkSerializable*  deserialize(physx::general_PxIOStream2::PxFileBuf&amp; stream, const NvBlastID&amp; id)
<a name="l00098"></a>00098 
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 <span class="comment">// Macro to define class type data</span>
<a name="l00101"></a><a class="code" href="_nv_blast_tk_common_8h.html#d17fec1e0253ec1c78824c477ac8bc65">00101</a> <span class="preprocessor">#define NVBLASTTK_DEFINE_TYPE_IDENTIFIABLE(_name) \</span>
<a name="l00102"></a>00102 <span class="preprocessor">    TkTypeImpl Tk##_name##Type::s_type("Tk" #_name, Tk##_name##Impl::ClassID, 0, nullptr)</span>
<a name="l00103"></a>00103 <span class="preprocessor"></span>
<a name="l00104"></a>00104 
<a name="l00105"></a>00105 <span class="comment">// Macro to define class type data (serializable version)</span>
<a name="l00106"></a><a class="code" href="_nv_blast_tk_common_8h.html#32aeee5c13d08715562ed62f4c24b534">00106</a> <span class="preprocessor">#define NVBLASTTK_DEFINE_TYPE_SERIALIZABLE(_name) \</span>
<a name="l00107"></a>00107 <span class="preprocessor">    TkTypeImpl Tk##_name##Type::s_type("Tk" #_name, Tk##_name##Impl::ClassID, Tk##_name##Impl::Version::Current, Tk##_name##Impl::deserialize)</span>
<a name="l00108"></a>00108 <span class="preprocessor"></span>
<a name="l00109"></a>00109 
<a name="l00110"></a>00110 <span class="preprocessor">#endif // ifndef NVBLASTTKCOMMON_H</span>
</pre></div></div>
<!-- start footer part -->
<div class="footer">
Copyright &copy; 2015-2017 NVIDIA Corporation, 2701 San Tomas Expressway, Santa Clara, CA 95050 U.S.A. All rights reserved. <a href="http://www.nvidia.com ">www.nvidia.com</a>
</div>
</body>
</html>
